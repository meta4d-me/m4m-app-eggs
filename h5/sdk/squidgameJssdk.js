!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).squidgameJssdk=t()}(this,(function(){"use strict";const e=window;var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};function n(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function r(e,t){return e(t={exports:{}},t.exports),t.exports}var o=r((function(e){
/*! *****************************************************************************
	Copyright (c) Microsoft Corporation.

	Permission to use, copy, modify, and/or distribute this software for any
	purpose with or without fee is hereby granted.

	THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
	REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
	AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
	INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
	LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
	OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
	PERFORMANCE OF THIS SOFTWARE.
	***************************************************************************** */
var n,r,o,i,a,s,u,l,c,p,d,h,f,y,m,g,_,w,v,b,T,x,C,E;!function(A){var k="object"==typeof t?t:"object"==typeof self?self:"object"==typeof this?this:{};function S(e,t){return e!==k&&("function"==typeof Object.create?Object.defineProperty(e,"__esModule",{value:!0}):e.__esModule=!0),function(n,r){return e[n]=t?t(n,r):r}}!function(e){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};n=function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)},r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},o=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n},i=function(e,t,n,r){var o,i=arguments.length,a=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(a=(i<3?o(a):i>3?o(t,n,a):o(t,n))||a);return i>3&&a&&Object.defineProperty(t,n,a),a},a=function(e,t){return function(n,r){t(n,r,e)}},s=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},u=function(e,t,n,r){function o(e){return e instanceof n?e:new n((function(t){t(e)}))}return new(n||(n=Promise))((function(n,i){function a(e){try{u(r.next(e))}catch(e){i(e)}}function s(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){e.done?n(e.value):o(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())}))},l=function(e,t){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(e){return function(t){return u([e,t])}}function u(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=t.call(e,a)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}},c=function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||E(t,e,n)},E=Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]},p=function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},d=function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,o,i=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a},h=function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(d(arguments[t]));return e},f=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r},y=function(e,t,n){if(n||2===arguments.length)for(var r,o=0,i=t.length;o<i;o++)!r&&o in t||(r||(r=Array.prototype.slice.call(t,0,o)),r[o]=t[o]);return e.concat(r||t)},m=function(e){return this instanceof m?(this.v=e,this):new m(e)},g=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(e){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||s(e,t)}))})}function s(e,t){try{u(o[e](t))}catch(e){p(i[0][3],e)}}function u(e){e.value instanceof m?Promise.resolve(e.value.v).then(l,c):p(i[0][2],e)}function l(e){s("next",e)}function c(e){s("throw",e)}function p(e,t){e(t),i.shift(),i.length&&s(i[0][0],i[0][1])}},_=function(e){var t,n;return t={},r("next"),r("throw",(function(e){throw e})),r("return"),t[Symbol.iterator]=function(){return this},t;function r(r,o){t[r]=e[r]?function(t){return(n=!n)?{value:m(e[r](t)),done:"return"===r}:o?o(t):t}:o}},w=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=p(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,i){o(r,i,(t=e[n](t)).done,t.value)}))}}function o(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}},v=function(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e};var A=Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t};b=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&E(t,e,n);return A(t,e),t},T=function(e){return e&&e.__esModule?e:{default:e}},x=function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)},C=function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},e("__extends",n),e("__assign",r),e("__rest",o),e("__decorate",i),e("__param",a),e("__metadata",s),e("__awaiter",u),e("__generator",l),e("__exportStar",c),e("__createBinding",E),e("__values",p),e("__read",d),e("__spread",h),e("__spreadArrays",f),e("__spreadArray",y),e("__await",m),e("__asyncGenerator",g),e("__asyncDelegator",_),e("__asyncValues",w),e("__makeTemplateObject",v),e("__importStar",b),e("__importDefault",T),e("__classPrivateFieldGet",x),e("__classPrivateFieldSet",C)}(S(k,S(e.exports)))}()}));n(o);var i=r((function(e,t){function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}}));n(i),i.getFromWindow,i.getFromWindowOrThrow,i.getDocumentOrThrow,i.getDocument,i.getNavigatorOrThrow,i.getNavigator,i.getLocationOrThrow,i.getLocation,i.getCryptoOrThrow,i.getCrypto,i.getLocalStorageOrThrow,i.getLocalStorage;var a=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getWindowMetadata=function(){let e,t;try{e=i.getDocumentOrThrow(),t=i.getLocationOrThrow()}catch(e){return null}function n(...t){const n=e.getElementsByTagName("meta");for(let e=0;e<n.length;e++){const r=n[e],o=["itemprop","property","name"].map((e=>r.getAttribute(e))).filter((e=>!!e&&t.includes(e)));if(o.length&&o){const e=r.getAttribute("content");if(e)return e}}return""}const r=function(){let t=n("name","og:site_name","og:title","twitter:title");return t||(t=e.title),t}();return{description:n("description","og:description","twitter:description","keywords"),url:t.origin,icons:function(){const n=e.getElementsByTagName("link"),r=[];for(let e=0;e<n.length;e++){const o=n[e],i=o.getAttribute("rel");if(i&&i.toLowerCase().indexOf("icon")>-1){const e=o.getAttribute("href");if(e)if(-1===e.toLowerCase().indexOf("https:")&&-1===e.toLowerCase().indexOf("http:")&&0!==e.indexOf("//")){let n=t.protocol+"//"+t.host;if(0===e.indexOf("/"))n+=e;else{const r=t.pathname.split("/");r.pop();n+=r.join("/")+"/"+e}r.push(n)}else if(0===e.indexOf("//")){const n=t.protocol+e;r.push(n)}else r.push(e)}}return r}(),name:r}}}));n(a),a.getWindowMetadata;var s=r((function(e,t){function n(e){let t;return"undefined"!=typeof window&&void 0!==window[e]&&(t=window[e]),t}function r(e){const t=n(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}Object.defineProperty(t,"__esModule",{value:!0}),t.getFromWindow=n,t.getFromWindowOrThrow=r,t.getDocumentOrThrow=function(){return r("document")},t.getDocument=function(){return n("document")},t.getNavigatorOrThrow=function(){return r("navigator")},t.getNavigator=function(){return n("navigator")},t.getLocationOrThrow=function(){return r("location")},t.getLocation=function(){return n("location")},t.getCryptoOrThrow=function(){return r("crypto")},t.getCrypto=function(){return n("crypto")},t.getLocalStorageOrThrow=function(){return r("localStorage")},t.getLocalStorage=function(){return n("localStorage")}}));n(s),s.getFromWindow,s.getFromWindowOrThrow,s.getDocumentOrThrow,s.getDocument,s.getNavigatorOrThrow,s.getNavigator,s.getLocationOrThrow,s.getLocation,s.getCryptoOrThrow,s.getCrypto,s.getLocalStorageOrThrow,s.getLocalStorage;var u=r((function(e,n){var r=t&&t.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),o=0;for(t=0;t<n;t++)for(var i=arguments[t],a=0,s=i.length;a<s;a++,o++)r[o]=i[a];return r};Object.defineProperty(n,"__esModule",{value:!0});var o=function(e,t,n){this.name=e,this.version=t,this.os=n,this.type="browser"};n.BrowserInfo=o;var i=function(e){this.version=e,this.type="node",this.name="node",this.os=process.platform};n.NodeInfo=i;var a=function(e,t,n,r){this.name=e,this.version=t,this.os=n,this.bot=r,this.type="bot-device"};n.SearchBotDeviceInfo=a;var s=function(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null};n.BotInfo=s;var u=function(){this.type="react-native",this.name="react-native",this.version=null,this.os=null};n.ReactNativeInfo=u;var l=/(nuhk|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,c=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FBAV\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["searchbot",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],p=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function d(e){return""!==e&&c.reduce((function(t,n){var r=n[0],o=n[1];if(t)return t;var i=o.exec(e);return!!i&&[r,i]}),!1)}function h(e){var t=d(e);if(!t)return null;var n=t[0],i=t[1];if("searchbot"===n)return new s;var u=i[1]&&i[1].split(/[._]/).slice(0,3);u?u.length<3&&(u=r(u,function(e){for(var t=[],n=0;n<e;n++)t.push("0");return t}(3-u.length))):u=[];var c=u.join("."),p=f(e),h=l.exec(e);return h&&h[1]?new a(n,c,p,h[1]):new o(n,c,p)}function f(e){for(var t=0,n=p.length;t<n;t++){var r=p[t],o=r[0];if(r[1].exec(e))return o}return null}function y(){return"undefined"!=typeof process&&process.version?new i(process.version.slice(1)):null}n.detect=function(e){return e?h(e):"undefined"==typeof document&&"undefined"!=typeof navigator&&"ReactNative"===navigator.product?new u:"undefined"!=typeof navigator?h(navigator.userAgent):y()},n.browserName=function(e){var t=d(e);return t?t[0]:null},n.parseUserAgent=h,n.detectOS=f,n.getNodeVersion=y}));n(u),u.BrowserInfo,u.NodeInfo,u.SearchBotDeviceInfo,u.BotInfo,u.ReactNativeInfo,u.detect,u.browserName,u.parseUserAgent,u.detectOS,u.getNodeVersion;var l=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.getClientMeta=t.getLocalStorage=t.getLocalStorageOrThrow=t.getCrypto=t.getCryptoOrThrow=t.getLocation=t.getLocationOrThrow=t.getNavigator=t.getNavigatorOrThrow=t.getDocument=t.getDocumentOrThrow=t.getFromWindowOrThrow=t.getFromWindow=t.isBrowser=t.isNode=t.isMobile=t.isIOS=t.detectOS=t.detectEnv=void 0;const n=o.__importStar(a),r=o.__importStar(s);function i(e){return u.detect(e)}function l(){const e=i();return e&&e.os?e.os:void 0}function c(){const e=i();return!(!e||!e.name)&&"node"===e.name.toLowerCase()}t.detectEnv=i,t.detectOS=l,t.isIOS=function(){const e=l();return!!e&&e.toLowerCase().includes("ios")},t.isMobile=function(){const e=l();return!!e&&(e.toLowerCase().includes("android")||e.toLowerCase().includes("ios"))},t.isNode=c,t.isBrowser=function(){return!c()&&!!t.getNavigator()},t.getFromWindow=r.getFromWindow,t.getFromWindowOrThrow=r.getFromWindowOrThrow,t.getDocumentOrThrow=r.getDocumentOrThrow,t.getDocument=r.getDocument,t.getNavigatorOrThrow=r.getNavigatorOrThrow,t.getNavigator=r.getNavigator,t.getLocationOrThrow=r.getLocationOrThrow,t.getLocation=r.getLocation,t.getCryptoOrThrow=r.getCryptoOrThrow,t.getCrypto=r.getCrypto,t.getLocalStorageOrThrow=r.getLocalStorageOrThrow,t.getLocalStorage=r.getLocalStorage,t.getClientMeta=function(){return n.getWindowMetadata()}}));n(l),l.getClientMeta,l.getLocalStorage,l.getLocalStorageOrThrow,l.getCrypto,l.getCryptoOrThrow,l.getLocation,l.getLocationOrThrow,l.getNavigator,l.getNavigatorOrThrow,l.getDocument,l.getDocumentOrThrow,l.getFromWindowOrThrow,l.getFromWindow,l.isBrowser,l.isNode,l.isMobile,l.isIOS,l.detectOS,l.detectEnv;var c=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonParse=function(e){try{return JSON.parse(e)}catch(t){return e}},t.safeJsonStringify=function(e){return"string"==typeof e?e:JSON.stringify(e,((e,t)=>void 0===t?null:t))}}));n(c),c.safeJsonParse,c.safeJsonStringify;var p=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.safeJsonStringify=t.safeJsonParse=void 0;const n=o.__importStar(c);t.safeJsonParse=n.safeJsonParse,t.safeJsonStringify=n.safeJsonStringify}));n(p),p.safeJsonStringify,p.safeJsonParse;var d=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.removeLocal=t.getLocal=t.setLocal=void 0,t.setLocal=function(e,t){const n=p.safeJsonStringify(t),r=l.getLocalStorage();r&&r.setItem(e,n)},t.getLocal=function(e){let t=null,n=null;const r=l.getLocalStorage();return r&&(n=r.getItem(e)),t=p.safeJsonParse(n),t},t.removeLocal=function(e){const t=l.getLocalStorage();t&&t.removeItem(e)}}));n(d),d.removeLocal,d.getLocal,d.setLocal;var h=r((function(e,t){function n(e,t){return e.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())))[0]}Object.defineProperty(t,"__esModule",{value:!0}),t.getMobileLinkRegistry=t.getMobileRegistryEntry=t.saveMobileLinkInfo=t.formatIOSMobile=t.mobileLinkChoiceKey=void 0,t.mobileLinkChoiceKey="WALLETCONNECT_DEEPLINK_CHOICE",t.formatIOSMobile=function(e,t){const n=encodeURIComponent(e);return t.universalLink?`${t.universalLink}/wc?uri=${n}`:t.deepLink?`${t.deepLink}${t.deepLink.endsWith(":")?"//":"/"}wc?uri=${n}`:""},t.saveMobileLinkInfo=function(e){const n=e.href.split("?")[0];d.setLocal(t.mobileLinkChoiceKey,Object.assign(Object.assign({},e),{href:n}))},t.getMobileRegistryEntry=n,t.getMobileLinkRegistry=function(e,t){let r=e;return t&&t.length&&(r=t.map((t=>n(e,t)))),r}}));n(h),h.getMobileLinkRegistry,h.getMobileRegistryEntry,h.saveMobileLinkInfo,h.formatIOSMobile,h.mobileLinkChoiceKey;var f=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatMobileRegistry=t.formatMobileRegistryEntry=t.getAppLogoUrl=t.getDappRegistryUrl=t.getWalletRegistryUrl=void 0;const n="https://registry.walletconnect.org";function r(e){return n+"/logo/sm/"+e+".jpeg"}function o(e){return{name:e.name||"",shortName:e.metadata.shortName||"",color:e.metadata.colors.primary||"",logo:e.id?r(e.id):"",universalLink:e.mobile.universal||"",deepLink:e.mobile.native||""}}t.getWalletRegistryUrl=function(){return n+"/data/wallets.json"},t.getDappRegistryUrl=function(){return n+"/data/dapps.json"},t.getAppLogoUrl=r,t.formatMobileRegistryEntry=o,t.formatMobileRegistry=function(e){return Object.values(e).filter((e=>!!e.mobile.universal||!!e.mobile.native)).map(o)}}));n(f),f.formatMobileRegistry,f.formatMobileRegistryEntry,f.getAppLogoUrl,f.getDappRegistryUrl,f.getWalletRegistryUrl;var y=r((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),o.__exportStar(l,t),o.__exportStar(p,t),o.__exportStar(d,t),o.__exportStar(h,t),o.__exportStar(f,t)}));n(y);var m=function(){return"function"==typeof Promise&&Promise.prototype&&Promise.prototype.then},g={}.toString,_=Array.isArray||function(e){return"[object Array]"==g.call(e)};v.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1);return e.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===e.foo()}catch(e){return!1}}();var w=v.TYPED_ARRAY_SUPPORT?2147483647:1073741823;function v(e,t,n){return v.TYPED_ARRAY_SUPPORT||this instanceof v?"number"==typeof e?x(this,e):function(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');if("undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer)return function(e,t,n,r){if(n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");var o;o=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);v.TYPED_ARRAY_SUPPORT?o.__proto__=v.prototype:o=C(e,o);return o}(e,t,n,r);if("string"==typeof t)return function(e,t){var n=0|A(t),r=T(e,n),o=r.write(t);o!==n&&(r=r.slice(0,o));return r}(e,t);return function(e,t){if(v.isBuffer(t)){var n=0|b(t.length),r=T(e,n);return 0===r.length||t.copy(r,0,0,n),r}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(o=t.length)!=o?T(e,0):C(e,t);if("Buffer"===t.type&&Array.isArray(t.data))return C(e,t.data)}var o;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}(this,e,t,n):new v(e,t,n)}function b(e){if(e>=w)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+w.toString(16)+" bytes");return 0|e}function T(e,t){var n;return v.TYPED_ARRAY_SUPPORT?(n=new Uint8Array(t)).__proto__=v.prototype:(null===(n=e)&&(n=new v(t)),n.length=t),n}function x(e,t){var n=T(e,t<0?0:0|b(t));if(!v.TYPED_ARRAY_SUPPORT)for(var r=0;r<t;++r)n[r]=0;return n}function C(e,t){for(var n=t.length<0?0:0|b(t.length),r=T(e,n),o=0;o<n;o+=1)r[o]=255&t[o];return r}function E(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function A(e){return v.isBuffer(e)?e.length:"undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer)?e.byteLength:("string"!=typeof e&&(e=""+e),0===e.length?0:E(e).length)}v.TYPED_ARRAY_SUPPORT&&(v.prototype.__proto__=Uint8Array.prototype,v.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&v[Symbol.species]===v&&Object.defineProperty(v,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1})),v.prototype.write=function(e,t,n){void 0===t||void 0===n&&"string"==typeof t?(n=this.length,t=0):isFinite(t)&&(t|=0,isFinite(n)?n|=0:n=void 0);var r=this.length-t;if((void 0===n||n>r)&&(n=r),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");return function(e,t,n,r){return function(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}(E(t,e.length-n),e,n,r)}(this,e,t,n)},v.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),v.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=v.prototype;else{var o=t-e;n=new v(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},v.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!v.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},v.prototype.fill=function(e,t,n){if("string"==typeof e){if("string"==typeof t?(t=0,n=this.length):"string"==typeof n&&(n=this.length),1===e.length){var r=e.charCodeAt(0);r<256&&(e=r)}}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(o=t;o<n;++o)this[o]=e;else{var i=v.isBuffer(e)?e:new v(e),a=i.length;for(o=0;o<n-t;++o)this[o+t]=i[o%a]}return this},v.concat=function(e,t){if(!_(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return T(null,0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=x(null,t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!v.isBuffer(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},v.byteLength=A,v.prototype._isBuffer=!0,v.isBuffer=function(e){return!(null==e||!e._isBuffer)};var k,S=function(e){var t=new v(e);return t.fill(0),t},P=function(e){return new v(e)},M=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706],R=function(e){if(!e)throw new Error('"version" cannot be null or undefined');if(e<1||e>40)throw new Error('"version" should be in range from 1 to 40');return 4*e+17},N=function(e){return M[e]},O=function(e){for(var t=0;0!==e;)t++,e>>>=1;return t},B=function(e){if("function"!=typeof e)throw new Error('"toSJISFunc" is not a valid function.');k=e},I=function(){return void 0!==k},L=function(e){return k(e)},U=r((function(e,t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2},t.isValid=function(e){return e&&void 0!==e.bit&&e.bit>=0&&e.bit<4},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+e)}}(e)}catch(e){return n}}}));function F(){this.buffer=[],this.length=0}U.L,U.M,U.Q,U.H,U.isValid,F.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var n=0;n<t;n++)this.putBit(1==(e>>>t-n-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}};var D=F;function W(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=S(e*e),this.reservedBit=S(e*e)}W.prototype.set=function(e,t,n,r){var o=e*this.size+t;this.data[o]=n,r&&(this.reservedBit[o]=!0)},W.prototype.get=function(e,t){return this.data[e*this.size+t]},W.prototype.xor=function(e,t,n){this.data[e*this.size+t]^=n},W.prototype.isReserved=function(e,t){return this.reservedBit[e*this.size+t]};var H=W,j=r((function(e,t){var n=R;t.getRowColCoords=function(e){if(1===e)return[];for(var t=Math.floor(e/7)+2,r=n(e),o=145===r?26:2*Math.ceil((r-13)/(2*t-2)),i=[r-7],a=1;a<t-1;a++)i[a]=i[a-1]-o;return i.push(6),i.reverse()},t.getPositions=function(e){for(var n=[],r=t.getRowColCoords(e),o=r.length,i=0;i<o;i++)for(var a=0;a<o;a++)0===i&&0===a||0===i&&a===o-1||i===o-1&&0===a||n.push([r[i],r[a]]);return n}}));j.getRowColCoords,j.getPositions;var z=R,Y=function(e){var t=z(e);return[[0,0],[t-7,0],[0,t-7]]},q=r((function(e,t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};var n=3,r=3,o=40,i=10;function a(e,n,r){switch(e){case t.Patterns.PATTERN000:return(n+r)%2==0;case t.Patterns.PATTERN001:return n%2==0;case t.Patterns.PATTERN010:return r%3==0;case t.Patterns.PATTERN011:return(n+r)%3==0;case t.Patterns.PATTERN100:return(Math.floor(n/2)+Math.floor(r/3))%2==0;case t.Patterns.PATTERN101:return n*r%2+n*r%3==0;case t.Patterns.PATTERN110:return(n*r%2+n*r%3)%2==0;case t.Patterns.PATTERN111:return(n*r%3+(n+r)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}}t.isValid=function(e){return null!=e&&""!==e&&!isNaN(e)&&e>=0&&e<=7},t.from=function(e){return t.isValid(e)?parseInt(e,10):void 0},t.getPenaltyN1=function(e){for(var t=e.size,r=0,o=0,i=0,a=null,s=null,u=0;u<t;u++){o=i=0,a=s=null;for(var l=0;l<t;l++){var c=e.get(u,l);c===a?o++:(o>=5&&(r+=n+(o-5)),a=c,o=1),(c=e.get(l,u))===s?i++:(i>=5&&(r+=n+(i-5)),s=c,i=1)}o>=5&&(r+=n+(o-5)),i>=5&&(r+=n+(i-5))}return r},t.getPenaltyN2=function(e){for(var t=e.size,n=0,o=0;o<t-1;o++)for(var i=0;i<t-1;i++){var a=e.get(o,i)+e.get(o,i+1)+e.get(o+1,i)+e.get(o+1,i+1);4!==a&&0!==a||n++}return n*r},t.getPenaltyN3=function(e){for(var t=e.size,n=0,r=0,i=0,a=0;a<t;a++){r=i=0;for(var s=0;s<t;s++)r=r<<1&2047|e.get(a,s),s>=10&&(1488===r||93===r)&&n++,i=i<<1&2047|e.get(s,a),s>=10&&(1488===i||93===i)&&n++}return n*o},t.getPenaltyN4=function(e){for(var t=0,n=e.data.length,r=0;r<n;r++)t+=e.data[r];return Math.abs(Math.ceil(100*t/n/5)-10)*i},t.applyMask=function(e,t){for(var n=t.size,r=0;r<n;r++)for(var o=0;o<n;o++)t.isReserved(o,r)||t.xor(o,r,a(e,o,r))},t.getBestMask=function(e,n){for(var r=Object.keys(t.Patterns).length,o=0,i=1/0,a=0;a<r;a++){n(a),t.applyMask(a,e);var s=t.getPenaltyN1(e)+t.getPenaltyN2(e)+t.getPenaltyN3(e)+t.getPenaltyN4(e);t.applyMask(a,e),s<i&&(i=s,o=a)}return o}}));q.Patterns,q.isValid,q.getPenaltyN1,q.getPenaltyN2,q.getPenaltyN3,q.getPenaltyN4,q.applyMask,q.getBestMask;var V=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],G=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430],J=function(e,t){switch(t){case U.L:return V[4*(e-1)+0];case U.M:return V[4*(e-1)+1];case U.Q:return V[4*(e-1)+2];case U.H:return V[4*(e-1)+3];default:return}},$=function(e,t){switch(t){case U.L:return G[4*(e-1)+0];case U.M:return G[4*(e-1)+1];case U.Q:return G[4*(e-1)+2];case U.H:return G[4*(e-1)+3];default:return}},K=S(512),Z=S(256);!function(){for(var e=1,t=0;t<255;t++)K[t]=e,Z[e]=t,256&(e<<=1)&&(e^=285);for(t=255;t<512;t++)K[t]=K[t-255]}();var Q=function(e){return K[e]},X=function(e,t){return 0===e||0===t?0:K[Z[e]+Z[t]]},ee=r((function(e,t){t.mul=function(e,t){for(var n=S(e.length+t.length-1),r=0;r<e.length;r++)for(var o=0;o<t.length;o++)n[r+o]^=X(e[r],t[o]);return n},t.mod=function(e,t){for(var n=P(e);n.length-t.length>=0;){for(var r=n[0],o=0;o<t.length;o++)n[o]^=X(t[o],r);for(var i=0;i<n.length&&0===n[i];)i++;n=n.slice(i)}return n},t.generateECPolynomial=function(e){for(var n=P([1]),r=0;r<e;r++)n=t.mul(n,[1,Q(r)]);return n}}));ee.mul,ee.mod,ee.generateECPolynomial;var te=[],ne=[],re="undefined"!=typeof Uint8Array?Uint8Array:Array,oe=!1;function ie(){oe=!0;for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,n=e.length;t<n;++t)te[t]=e[t],ne[e.charCodeAt(t)]=t;ne["-".charCodeAt(0)]=62,ne["_".charCodeAt(0)]=63}function ae(e,t,n){for(var r,o,i=[],a=t;a<n;a+=3)r=(e[a]<<16)+(e[a+1]<<8)+e[a+2],i.push(te[(o=r)>>18&63]+te[o>>12&63]+te[o>>6&63]+te[63&o]);return i.join("")}function se(e){var t;oe||ie();for(var n=e.length,r=n%3,o="",i=[],a=16383,s=0,u=n-r;s<u;s+=a)i.push(ae(e,s,s+a>u?u:s+a));return 1===r?(t=e[n-1],o+=te[t>>2],o+=te[t<<4&63],o+="=="):2===r&&(t=(e[n-2]<<8)+e[n-1],o+=te[t>>10],o+=te[t>>4&63],o+=te[t<<2&63],o+="="),i.push(o),i.join("")}function ue(e,t,n,r,o){var i,a,s=8*o-r-1,u=(1<<s)-1,l=u>>1,c=-7,p=n?o-1:0,d=n?-1:1,h=e[t+p];for(p+=d,i=h&(1<<-c)-1,h>>=-c,c+=s;c>0;i=256*i+e[t+p],p+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=r;c>0;a=256*a+e[t+p],p+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:1/0*(h?-1:1);a+=Math.pow(2,r),i-=l}return(h?-1:1)*a*Math.pow(2,i-r)}function le(e,t,n,r,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,p=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,h=r?0:i-1,f=r?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),(t+=a+p>=1?d/u:d*Math.pow(2,1-p))*u>=2&&(a++,u/=2),a+p>=c?(s=0,a=c):a+p>=1?(s=(t*u-1)*Math.pow(2,o),a+=p):(s=t*Math.pow(2,p-1)*Math.pow(2,o),a=0));o>=8;e[n+h]=255&s,h+=f,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[n+h]=255&a,h+=f,a/=256,l-=8);e[n+h-f]|=128*y}var ce={}.toString,pe=Array.isArray||function(e){return"[object Array]"==ce.call(e)};ye.TYPED_ARRAY_SUPPORT=void 0===e.TYPED_ARRAY_SUPPORT||e.TYPED_ARRAY_SUPPORT;var de=he();function he(){return ye.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function fe(e,t){if(he()<t)throw new RangeError("Invalid typed array length");return ye.TYPED_ARRAY_SUPPORT?(e=new Uint8Array(t)).__proto__=ye.prototype:(null===e&&(e=new ye(t)),e.length=t),e}function ye(e,t,n){if(!(ye.TYPED_ARRAY_SUPPORT||this instanceof ye))return new ye(e,t,n);if("number"==typeof e){if("string"==typeof t)throw new Error("If encoding is specified then the first argument must be a string");return _e(this,e)}return me(this,e,t,n)}function me(e,t,n,r){if("number"==typeof t)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer?function(e,t,n,r){if(t.byteLength,n<0||t.byteLength<n)throw new RangeError("'offset' is out of bounds");if(t.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");t=void 0===n&&void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,n):new Uint8Array(t,n,r);ye.TYPED_ARRAY_SUPPORT?(e=t).__proto__=ye.prototype:e=we(e,t);return e}(e,t,n,r):"string"==typeof t?function(e,t,n){"string"==typeof n&&""!==n||(n="utf8");if(!ye.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|Te(t,n),o=(e=fe(e,r)).write(t,n);o!==r&&(e=e.slice(0,o));return e}(e,t,n):function(e,t){if(be(t)){var n=0|ve(t.length);return 0===(e=fe(e,n)).length||t.copy(e,0,0,n),e}if(t){if("undefined"!=typeof ArrayBuffer&&t.buffer instanceof ArrayBuffer||"length"in t)return"number"!=typeof t.length||(r=t.length)!=r?fe(e,0):we(e,t);if("Buffer"===t.type&&pe(t.data))return we(e,t.data)}var r;throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}(e,t)}function ge(e){if("number"!=typeof e)throw new TypeError('"size" argument must be a number');if(e<0)throw new RangeError('"size" argument must not be negative')}function _e(e,t){if(ge(t),e=fe(e,t<0?0:0|ve(t)),!ye.TYPED_ARRAY_SUPPORT)for(var n=0;n<t;++n)e[n]=0;return e}function we(e,t){var n=t.length<0?0:0|ve(t.length);e=fe(e,n);for(var r=0;r<n;r+=1)e[r]=255&t[r];return e}function ve(e){if(e>=he())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+he().toString(16)+" bytes");return 0|e}function be(e){return!(null==e||!e._isBuffer)}function Te(e,t){if(be(e))return e.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(e)||e instanceof ArrayBuffer))return e.byteLength;"string"!=typeof e&&(e=""+e);var n=e.length;if(0===n)return 0;for(var r=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return $e(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return Ke(e).length;default:if(r)return $e(e).length;t=(""+t).toLowerCase(),r=!0}}function xe(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return Fe(this,t,n);case"utf8":case"utf-8":return Be(this,t,n);case"ascii":return Le(this,t,n);case"latin1":case"binary":return Ue(this,t,n);case"base64":return Oe(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return De(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function Ce(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function Ee(e,t,n,r,o){if(0===e.length)return-1;if("string"==typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=o?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(o)return-1;n=e.length-1}else if(n<0){if(!o)return-1;n=0}if("string"==typeof t&&(t=ye.from(t,r)),be(t))return 0===t.length?-1:Ae(e,t,n,r,o);if("number"==typeof t)return t&=255,ye.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?o?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):Ae(e,[t],n,r,o);throw new TypeError("val must be string, number or Buffer")}function Ae(e,t,n,r,o){var i,a=1,s=e.length,u=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,u/=2,n/=2}function l(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(o){var c=-1;for(i=n;i<s;i++)if(l(e,i)===l(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===u)return c*a}else-1!==c&&(i-=i-c),c=-1}else for(n+u>s&&(n=s-u),i=n;i>=0;i--){for(var p=!0,d=0;d<u;d++)if(l(e,i+d)!==l(t,d)){p=!1;break}if(p)return i}return-1}function ke(e,t,n,r){n=Number(n)||0;var o=e.length-n;r?(r=Number(r))>o&&(r=o):r=o;var i=t.length;if(i%2!=0)throw new TypeError("Invalid hex string");r>i/2&&(r=i/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))return a;e[n+a]=s}return a}function Se(e,t,n,r){return Ze($e(t,e.length-n),e,n,r)}function Pe(e,t,n,r){return Ze(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function Me(e,t,n,r){return Pe(e,t,n,r)}function Re(e,t,n,r){return Ze(Ke(t),e,n,r)}function Ne(e,t,n,r){return Ze(function(e,t){for(var n,r,o,i=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,o=n%256,i.push(o),i.push(r);return i}(t,e.length-n),e,n,r)}function Oe(e,t,n){return 0===t&&n===e.length?se(e):se(e.slice(t,n))}function Be(e,t,n){n=Math.min(e.length,n);for(var r=[],o=t;o<n;){var i,a,s,u,l=e[o],c=null,p=l>239?4:l>223?3:l>191?2:1;if(o+p<=n)switch(p){case 1:l<128&&(c=l);break;case 2:128==(192&(i=e[o+1]))&&(u=(31&l)<<6|63&i)>127&&(c=u);break;case 3:i=e[o+1],a=e[o+2],128==(192&i)&&128==(192&a)&&(u=(15&l)<<12|(63&i)<<6|63&a)>2047&&(u<55296||u>57343)&&(c=u);break;case 4:i=e[o+1],a=e[o+2],s=e[o+3],128==(192&i)&&128==(192&a)&&128==(192&s)&&(u=(15&l)<<18|(63&i)<<12|(63&a)<<6|63&s)>65535&&u<1114112&&(c=u)}null===c?(c=65533,p=1):c>65535&&(c-=65536,r.push(c>>>10&1023|55296),c=56320|1023&c),r.push(c),o+=p}return function(e){var t=e.length;if(t<=Ie)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=Ie));return n}(r)}ye.poolSize=8192,ye._augment=function(e){return e.__proto__=ye.prototype,e},ye.from=function(e,t,n){return me(null,e,t,n)},ye.TYPED_ARRAY_SUPPORT&&(ye.prototype.__proto__=Uint8Array.prototype,ye.__proto__=Uint8Array),ye.alloc=function(e,t,n){return function(e,t,n,r){return ge(t),t<=0?fe(e,t):void 0!==n?"string"==typeof r?fe(e,t).fill(n,r):fe(e,t).fill(n):fe(e,t)}(null,e,t,n)},ye.allocUnsafe=function(e){return _e(null,e)},ye.allocUnsafeSlow=function(e){return _e(null,e)},ye.isBuffer=Qe,ye.compare=function(e,t){if(!be(e)||!be(t))throw new TypeError("Arguments must be Buffers");if(e===t)return 0;for(var n=e.length,r=t.length,o=0,i=Math.min(n,r);o<i;++o)if(e[o]!==t[o]){n=e[o],r=t[o];break}return n<r?-1:r<n?1:0},ye.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},ye.concat=function(e,t){if(!pe(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return ye.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=ye.allocUnsafe(t),o=0;for(n=0;n<e.length;++n){var i=e[n];if(!be(i))throw new TypeError('"list" argument must be an Array of Buffers');i.copy(r,o),o+=i.length}return r},ye.byteLength=Te,ye.prototype._isBuffer=!0,ye.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)Ce(this,t,t+1);return this},ye.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)Ce(this,t,t+3),Ce(this,t+1,t+2);return this},ye.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)Ce(this,t,t+7),Ce(this,t+1,t+6),Ce(this,t+2,t+5),Ce(this,t+3,t+4);return this},ye.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?Be(this,0,e):xe.apply(this,arguments)},ye.prototype.equals=function(e){if(!be(e))throw new TypeError("Argument must be a Buffer");return this===e||0===ye.compare(this,e)},ye.prototype.inspect=function(){var e="";return this.length>0&&(e=this.toString("hex",0,50).match(/.{2}/g).join(" "),this.length>50&&(e+=" ... ")),"<Buffer "+e+">"},ye.prototype.compare=function(e,t,n,r,o){if(!be(e))throw new TypeError("Argument must be a Buffer");if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===o&&(o=this.length),t<0||n>e.length||r<0||o>this.length)throw new RangeError("out of range index");if(r>=o&&t>=n)return 0;if(r>=o)return-1;if(t>=n)return 1;if(this===e)return 0;for(var i=(o>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(i,a),u=this.slice(r,o),l=e.slice(t,n),c=0;c<s;++c)if(u[c]!==l[c]){i=u[c],a=l[c];break}return i<a?-1:a<i?1:0},ye.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},ye.prototype.indexOf=function(e,t,n){return Ee(this,e,t,n,!0)},ye.prototype.lastIndexOf=function(e,t,n){return Ee(this,e,t,n,!1)},ye.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"==typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var o=this.length-t;if((void 0===n||n>o)&&(n=o),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var i=!1;;)switch(r){case"hex":return ke(this,e,t,n);case"utf8":case"utf-8":return Se(this,e,t,n);case"ascii":return Pe(this,e,t,n);case"latin1":case"binary":return Me(this,e,t,n);case"base64":return Re(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Ne(this,e,t,n);default:if(i)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),i=!0}},ye.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Ie=4096;function Le(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(127&e[o]);return r}function Ue(e,t,n){var r="";n=Math.min(e.length,n);for(var o=t;o<n;++o)r+=String.fromCharCode(e[o]);return r}function Fe(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var o="",i=t;i<n;++i)o+=Je(e[i]);return o}function De(e,t,n){for(var r=e.slice(t,n),o="",i=0;i<r.length;i+=2)o+=String.fromCharCode(r[i]+256*r[i+1]);return o}function We(e,t,n){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function He(e,t,n,r,o,i){if(!be(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>o||t<i)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function je(e,t,n,r){t<0&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-n,2);o<i;++o)e[n+o]=(t&255<<8*(r?o:1-o))>>>8*(r?o:1-o)}function ze(e,t,n,r){t<0&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-n,4);o<i;++o)e[n+o]=t>>>8*(r?o:3-o)&255}function Ye(e,t,n,r,o,i){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function qe(e,t,n,r,o){return o||Ye(e,0,n,4),le(e,t,n,r,23,4),n+4}function Ve(e,t,n,r,o){return o||Ye(e,0,n,8),le(e,t,n,r,52,8),n+8}ye.prototype.slice=function(e,t){var n,r=this.length;if((e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e),ye.TYPED_ARRAY_SUPPORT)(n=this.subarray(e,t)).__proto__=ye.prototype;else{var o=t-e;n=new ye(o,void 0);for(var i=0;i<o;++i)n[i]=this[i+e]}return n},ye.prototype.readUIntLE=function(e,t,n){e|=0,t|=0,n||We(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r},ye.prototype.readUIntBE=function(e,t,n){e|=0,t|=0,n||We(e,t,this.length);for(var r=this[e+--t],o=1;t>0&&(o*=256);)r+=this[e+--t]*o;return r},ye.prototype.readUInt8=function(e,t){return t||We(e,1,this.length),this[e]},ye.prototype.readUInt16LE=function(e,t){return t||We(e,2,this.length),this[e]|this[e+1]<<8},ye.prototype.readUInt16BE=function(e,t){return t||We(e,2,this.length),this[e]<<8|this[e+1]},ye.prototype.readUInt32LE=function(e,t){return t||We(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},ye.prototype.readUInt32BE=function(e,t){return t||We(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},ye.prototype.readIntLE=function(e,t,n){e|=0,t|=0,n||We(e,t,this.length);for(var r=this[e],o=1,i=0;++i<t&&(o*=256);)r+=this[e+i]*o;return r>=(o*=128)&&(r-=Math.pow(2,8*t)),r},ye.prototype.readIntBE=function(e,t,n){e|=0,t|=0,n||We(e,t,this.length);for(var r=t,o=1,i=this[e+--r];r>0&&(o*=256);)i+=this[e+--r]*o;return i>=(o*=128)&&(i-=Math.pow(2,8*t)),i},ye.prototype.readInt8=function(e,t){return t||We(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},ye.prototype.readInt16LE=function(e,t){t||We(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},ye.prototype.readInt16BE=function(e,t){t||We(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},ye.prototype.readInt32LE=function(e,t){return t||We(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},ye.prototype.readInt32BE=function(e,t){return t||We(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},ye.prototype.readFloatLE=function(e,t){return t||We(e,4,this.length),ue(this,e,!0,23,4)},ye.prototype.readFloatBE=function(e,t){return t||We(e,4,this.length),ue(this,e,!1,23,4)},ye.prototype.readDoubleLE=function(e,t){return t||We(e,8,this.length),ue(this,e,!0,52,8)},ye.prototype.readDoubleBE=function(e,t){return t||We(e,8,this.length),ue(this,e,!1,52,8)},ye.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||He(this,e,t,n,Math.pow(2,8*n)-1,0);var o=1,i=0;for(this[t]=255&e;++i<n&&(o*=256);)this[t+i]=e/o&255;return t+n},ye.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t|=0,n|=0,r)||He(this,e,t,n,Math.pow(2,8*n)-1,0);var o=n-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+n},ye.prototype.writeUInt8=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,1,255,0),ye.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),this[t]=255&e,t+1},ye.prototype.writeUInt16LE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,2,65535,0),ye.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):je(this,e,t,!0),t+2},ye.prototype.writeUInt16BE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,2,65535,0),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):je(this,e,t,!1),t+2},ye.prototype.writeUInt32LE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,4,4294967295,0),ye.TYPED_ARRAY_SUPPORT?(this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e):ze(this,e,t,!0),t+4},ye.prototype.writeUInt32BE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,4,4294967295,0),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):ze(this,e,t,!1),t+4},ye.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);He(this,e,t,n,o-1,-o)}var i=0,a=1,s=0;for(this[t]=255&e;++i<n&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},ye.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t|=0,!r){var o=Math.pow(2,8*n-1);He(this,e,t,n,o-1,-o)}var i=n-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+n},ye.prototype.writeInt8=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,1,127,-128),ye.TYPED_ARRAY_SUPPORT||(e=Math.floor(e)),e<0&&(e=255+e+1),this[t]=255&e,t+1},ye.prototype.writeInt16LE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,2,32767,-32768),ye.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8):je(this,e,t,!0),t+2},ye.prototype.writeInt16BE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,2,32767,-32768),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>8,this[t+1]=255&e):je(this,e,t,!1),t+2},ye.prototype.writeInt32LE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,4,2147483647,-2147483648),ye.TYPED_ARRAY_SUPPORT?(this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24):ze(this,e,t,!0),t+4},ye.prototype.writeInt32BE=function(e,t,n){return e=+e,t|=0,n||He(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),ye.TYPED_ARRAY_SUPPORT?(this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e):ze(this,e,t,!1),t+4},ye.prototype.writeFloatLE=function(e,t,n){return qe(this,e,t,!0,n)},ye.prototype.writeFloatBE=function(e,t,n){return qe(this,e,t,!1,n)},ye.prototype.writeDoubleLE=function(e,t,n){return Ve(this,e,t,!0,n)},ye.prototype.writeDoubleBE=function(e,t,n){return Ve(this,e,t,!1,n)},ye.prototype.copy=function(e,t,n,r){if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var o,i=r-n;if(this===e&&n<t&&t<r)for(o=i-1;o>=0;--o)e[o+t]=this[o+n];else if(i<1e3||!ye.TYPED_ARRAY_SUPPORT)for(o=0;o<i;++o)e[o+t]=this[o+n];else Uint8Array.prototype.set.call(e,this.subarray(n,n+i),t);return i},ye.prototype.fill=function(e,t,n,r){if("string"==typeof e){if("string"==typeof t?(r=t,t=0,n=this.length):"string"==typeof n&&(r=n,n=this.length),1===e.length){var o=e.charCodeAt(0);o<256&&(e=o)}if(void 0!==r&&"string"!=typeof r)throw new TypeError("encoding must be a string");if("string"==typeof r&&!ye.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"==typeof e&&(e&=255);if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var i;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"==typeof e)for(i=t;i<n;++i)this[i]=e;else{var a=be(e)?e:$e(new ye(e,r).toString()),s=a.length;for(i=0;i<n-t;++i)this[i+t]=a[i%s]}return this};var Ge=/[^+\/0-9A-Za-z-_]/g;function Je(e){return e<16?"0"+e.toString(16):e.toString(16)}function $e(e,t){var n;t=t||1/0;for(var r=e.length,o=null,i=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!o){if(n>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&i.push(239,191,189);continue}o=n;continue}if(n<56320){(t-=3)>-1&&i.push(239,191,189),o=n;continue}n=65536+(o-55296<<10|n-56320)}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,n<128){if((t-=1)<0)break;i.push(n)}else if(n<2048){if((t-=2)<0)break;i.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;i.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return i}function Ke(e){return function(e){var t,n,r,o,i,a;oe||ie();var s=e.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");i="="===e[s-2]?2:"="===e[s-1]?1:0,a=new re(3*s/4-i),r=i>0?s-4:s;var u=0;for(t=0,n=0;t<r;t+=4,n+=3)o=ne[e.charCodeAt(t)]<<18|ne[e.charCodeAt(t+1)]<<12|ne[e.charCodeAt(t+2)]<<6|ne[e.charCodeAt(t+3)],a[u++]=o>>16&255,a[u++]=o>>8&255,a[u++]=255&o;return 2===i?(o=ne[e.charCodeAt(t)]<<2|ne[e.charCodeAt(t+1)]>>4,a[u++]=255&o):1===i&&(o=ne[e.charCodeAt(t)]<<10|ne[e.charCodeAt(t+1)]<<4|ne[e.charCodeAt(t+2)]>>2,a[u++]=o>>8&255,a[u++]=255&o),a}(function(e){if((e=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}(e).replace(Ge,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function Ze(e,t,n,r){for(var o=0;o<r&&!(o+n>=t.length||o>=e.length);++o)t[o+n]=e[o];return o}function Qe(e){return null!=e&&(!!e._isBuffer||Xe(e)||function(e){return"function"==typeof e.readFloatLE&&"function"==typeof e.slice&&Xe(e.slice(0,0))}(e))}function Xe(e){return!!e.constructor&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)}var et=Object.freeze({__proto__:null,INSPECT_MAX_BYTES:50,kMaxLength:de,Buffer:ye,SlowBuffer:function(e){return+e!=e&&(e=0),ye.alloc(+e)},isBuffer:Qe}).Buffer;function tt(e){this.genPoly=void 0,this.degree=e,this.degree&&this.initialize(this.degree)}tt.prototype.initialize=function(e){this.degree=e,this.genPoly=ee.generateECPolynomial(this.degree)},tt.prototype.encode=function(e){if(!this.genPoly)throw new Error("Encoder not initialized");var t=S(this.degree),n=et.concat([e,t],e.length+this.degree),r=ee.mod(n,this.genPoly),o=this.degree-r.length;if(o>0){var i=S(this.degree);return r.copy(i,o),i}return r};var nt=tt,rt=function(e){return!isNaN(e)&&e>=1&&e<=40},ot="[0-9]+",it="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+",at="(?:(?![A-Z0-9 $%*+\\-./:]|"+(it=it.replace(/u/g,"\\u"))+")(?:.|[\r\n]))+",st=new RegExp(it,"g"),ut=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),lt=new RegExp(at,"g"),ct=new RegExp(ot,"g"),pt=new RegExp("[A-Z $%*+\\-./:]+","g"),dt=new RegExp("^"+it+"$"),ht=new RegExp("^[0-9]+$"),ft=new RegExp("^[A-Z0-9 $%*+\\-./:]+$"),yt={KANJI:st,BYTE_KANJI:ut,BYTE:lt,NUMERIC:ct,ALPHANUMERIC:pt,testKanji:function(e){return dt.test(e)},testNumeric:function(e){return ht.test(e)},testAlphanumeric:function(e){return ft.test(e)}},mt=r((function(e,t){t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(e,t){if(!e.ccBits)throw new Error("Invalid mode: "+e);if(!rt(t))throw new Error("Invalid version: "+t);return t>=1&&t<10?e.ccBits[0]:t<27?e.ccBits[1]:e.ccBits[2]},t.getBestModeForData=function(e){return yt.testNumeric(e)?t.NUMERIC:yt.testAlphanumeric(e)?t.ALPHANUMERIC:yt.testKanji(e)?t.KANJI:t.BYTE},t.toString=function(e){if(e&&e.id)return e.id;throw new Error("Invalid mode")},t.isValid=function(e){return e&&e.bit&&e.ccBits},t.from=function(e,n){if(t.isValid(e))return e;try{return function(e){if("string"!=typeof e)throw new Error("Param is not a string");switch(e.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+e)}}(e)}catch(e){return n}}}));mt.NUMERIC,mt.ALPHANUMERIC,mt.BYTE,mt.KANJI,mt.MIXED,mt.getCharCountIndicator,mt.getBestModeForData,mt.isValid;var gt=r((function(e,t){var n=O(7973);function r(e,t){return mt.getCharCountIndicator(e,t)+4}function o(e,t){var n=0;return e.forEach((function(e){var o=r(e.mode,t);n+=o+e.getBitsLength()})),n}t.from=function(e,t){return rt(e)?parseInt(e,10):t},t.getCapacity=function(e,t,n){if(!rt(e))throw new Error("Invalid QR Code version");void 0===n&&(n=mt.BYTE);var o=8*(N(e)-$(e,t));if(n===mt.MIXED)return o;var i=o-r(n,e);switch(n){case mt.NUMERIC:return Math.floor(i/10*3);case mt.ALPHANUMERIC:return Math.floor(i/11*2);case mt.KANJI:return Math.floor(i/13);case mt.BYTE:default:return Math.floor(i/8)}},t.getBestVersionForData=function(e,n){var r,i=U.from(n,U.M);if(_(e)){if(e.length>1)return function(e,n){for(var r=1;r<=40;r++)if(o(e,r)<=t.getCapacity(r,n,mt.MIXED))return r}(e,i);if(0===e.length)return 1;r=e[0]}else r=e;return function(e,n,r){for(var o=1;o<=40;o++)if(n<=t.getCapacity(o,r,e))return o}(r.mode,r.getLength(),i)},t.getEncodedBits=function(e){if(!rt(e)||e<7)throw new Error("Invalid QR Code version");for(var t=e<<12;O(t)-n>=0;)t^=7973<<O(t)-n;return e<<12|t}}));gt.getCapacity,gt.getBestVersionForData,gt.getEncodedBits;var _t=O(1335),wt=function(e,t){for(var n=e.bit<<3|t,r=n<<10;O(r)-_t>=0;)r^=1335<<O(r)-_t;return 21522^(n<<10|r)};function vt(e){this.mode=mt.NUMERIC,this.data=e.toString()}vt.getBitsLength=function(e){return 10*Math.floor(e/3)+(e%3?e%3*3+1:0)},vt.prototype.getLength=function(){return this.data.length},vt.prototype.getBitsLength=function(){return vt.getBitsLength(this.data.length)},vt.prototype.write=function(e){var t,n,r;for(t=0;t+3<=this.data.length;t+=3)n=this.data.substr(t,3),r=parseInt(n,10),e.put(r,10);var o=this.data.length-t;o>0&&(n=this.data.substr(t),r=parseInt(n,10),e.put(r,3*o+1))};var bt=vt,Tt=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function xt(e){this.mode=mt.ALPHANUMERIC,this.data=e}xt.getBitsLength=function(e){return 11*Math.floor(e/2)+e%2*6},xt.prototype.getLength=function(){return this.data.length},xt.prototype.getBitsLength=function(){return xt.getBitsLength(this.data.length)},xt.prototype.write=function(e){var t;for(t=0;t+2<=this.data.length;t+=2){var n=45*Tt.indexOf(this.data[t]);n+=Tt.indexOf(this.data[t+1]),e.put(n,11)}this.data.length%2&&e.put(Tt.indexOf(this.data[t]),6)};var Ct=xt;function Et(e){this.mode=mt.BYTE,this.data=P(e)}Et.getBitsLength=function(e){return 8*e},Et.prototype.getLength=function(){return this.data.length},Et.prototype.getBitsLength=function(){return Et.getBitsLength(this.data.length)},Et.prototype.write=function(e){for(var t=0,n=this.data.length;t<n;t++)e.put(this.data[t],8)};var At=Et;function kt(e){this.mode=mt.KANJI,this.data=e}kt.getBitsLength=function(e){return 13*e},kt.prototype.getLength=function(){return this.data.length},kt.prototype.getBitsLength=function(){return kt.getBitsLength(this.data.length)},kt.prototype.write=function(e){var t;for(t=0;t<this.data.length;t++){var n=L(this.data[t]);if(n>=33088&&n<=40956)n-=33088;else{if(!(n>=57408&&n<=60351))throw new Error("Invalid SJIS character: "+this.data[t]+"\nMake sure your charset is UTF-8");n-=49472}n=192*(n>>>8&255)+(255&n),e.put(n,13)}};var St=kt,Pt=r((function(e){var t={single_source_shortest_paths:function(e,n,r){var o={},i={};i[n]=0;var a,s,u,l,c,p,d,h=t.PriorityQueue.make();for(h.push(n,0);!h.empty();)for(u in s=(a=h.pop()).value,l=a.cost,c=e[s]||{})c.hasOwnProperty(u)&&(p=l+c[u],d=i[u],(void 0===i[u]||d>p)&&(i[u]=p,h.push(u,p),o[u]=s));if(void 0!==r&&void 0===i[r]){var f=["Could not find a path from ",n," to ",r,"."].join("");throw new Error(f)}return o},extract_shortest_path_from_predecessor_list:function(e,t){for(var n=[],r=t;r;)n.push(r),r=e[r];return n.reverse(),n},find_path:function(e,n,r){var o=t.single_source_shortest_paths(e,n,r);return t.extract_shortest_path_from_predecessor_list(o,r)},PriorityQueue:{make:function(e){var n,r=t.PriorityQueue,o={};for(n in e=e||{},r)r.hasOwnProperty(n)&&(o[n]=r[n]);return o.queue=[],o.sorter=e.sorter||r.default_sorter,o},default_sorter:function(e,t){return e.cost-t.cost},push:function(e,t){var n={value:e,cost:t};this.queue.push(n),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return 0===this.queue.length}}};e.exports=t})),Mt=r((function(e,t){function n(e){return unescape(encodeURIComponent(e)).length}function r(e,t,n){for(var r,o=[];null!==(r=e.exec(n));)o.push({data:r[0],index:r.index,mode:t,length:r[0].length});return o}function o(e){var t,n,o=r(yt.NUMERIC,mt.NUMERIC,e),i=r(yt.ALPHANUMERIC,mt.ALPHANUMERIC,e);return I()?(t=r(yt.BYTE,mt.BYTE,e),n=r(yt.KANJI,mt.KANJI,e)):(t=r(yt.BYTE_KANJI,mt.BYTE,e),n=[]),o.concat(i,t,n).sort((function(e,t){return e.index-t.index})).map((function(e){return{data:e.data,mode:e.mode,length:e.length}}))}function i(e,t){switch(t){case mt.NUMERIC:return bt.getBitsLength(e);case mt.ALPHANUMERIC:return Ct.getBitsLength(e);case mt.KANJI:return St.getBitsLength(e);case mt.BYTE:return At.getBitsLength(e)}}function a(e,t){var n,r=mt.getBestModeForData(e);if((n=mt.from(t,r))!==mt.BYTE&&n.bit<r.bit)throw new Error('"'+e+'" cannot be encoded with mode '+mt.toString(n)+".\n Suggested mode is: "+mt.toString(r));switch(n!==mt.KANJI||I()||(n=mt.BYTE),n){case mt.NUMERIC:return new bt(e);case mt.ALPHANUMERIC:return new Ct(e);case mt.KANJI:return new St(e);case mt.BYTE:return new At(e)}}t.fromArray=function(e){return e.reduce((function(e,t){return"string"==typeof t?e.push(a(t,null)):t.data&&e.push(a(t.data,t.mode)),e}),[])},t.fromString=function(e,r){for(var a=function(e,t){for(var n={},r={start:{}},o=["start"],a=0;a<e.length;a++){for(var s=e[a],u=[],l=0;l<s.length;l++){var c=s[l],p=""+a+l;u.push(p),n[p]={node:c,lastCount:0},r[p]={};for(var d=0;d<o.length;d++){var h=o[d];n[h]&&n[h].node.mode===c.mode?(r[h][p]=i(n[h].lastCount+c.length,c.mode)-i(n[h].lastCount,c.mode),n[h].lastCount+=c.length):(n[h]&&(n[h].lastCount=c.length),r[h][p]=i(c.length,c.mode)+4+mt.getCharCountIndicator(c.mode,t))}}o=u}for(d=0;d<o.length;d++)r[o[d]].end=0;return{map:r,table:n}}(function(e){for(var t=[],r=0;r<e.length;r++){var o=e[r];switch(o.mode){case mt.NUMERIC:t.push([o,{data:o.data,mode:mt.ALPHANUMERIC,length:o.length},{data:o.data,mode:mt.BYTE,length:o.length}]);break;case mt.ALPHANUMERIC:t.push([o,{data:o.data,mode:mt.BYTE,length:o.length}]);break;case mt.KANJI:t.push([o,{data:o.data,mode:mt.BYTE,length:n(o.data)}]);break;case mt.BYTE:t.push([{data:o.data,mode:mt.BYTE,length:n(o.data)}])}}return t}(o(e)),r),s=Pt.find_path(a.map,"start","end"),u=[],l=1;l<s.length-1;l++)u.push(a.table[s[l]].node);return t.fromArray(function(e){return e.reduce((function(e,t){var n=e.length-1>=0?e[e.length-1]:null;return n&&n.mode===t.mode?(e[e.length-1].data+=t.data,e):(e.push(t),e)}),[])}(u))},t.rawSplit=function(e){return t.fromArray(o(e))}}));function Rt(e,t,n){var r,o,i=e.size,a=wt(t,n);for(r=0;r<15;r++)o=1==(a>>r&1),r<6?e.set(r,8,o,!0):r<8?e.set(r+1,8,o,!0):e.set(i-15+r,8,o,!0),r<8?e.set(8,i-r-1,o,!0):r<9?e.set(8,15-r-1+1,o,!0):e.set(8,15-r-1,o,!0);e.set(i-8,8,1,!0)}function Nt(e,t,n){var r=new D;n.forEach((function(t){r.put(t.mode.bit,4),r.put(t.getLength(),mt.getCharCountIndicator(t.mode,e)),t.write(r)}));var o=8*(N(e)-$(e,t));for(r.getLengthInBits()+4<=o&&r.put(0,4);r.getLengthInBits()%8!=0;)r.putBit(0);for(var i=(o-r.getLengthInBits())/8,a=0;a<i;a++)r.put(a%2?17:236,8);return function(e,t,n){for(var r=N(t),o=$(t,n),i=r-o,a=J(t,n),s=a-r%a,u=Math.floor(r/a),l=Math.floor(i/a),c=l+1,p=u-l,d=new nt(p),h=0,f=new Array(a),y=new Array(a),m=0,g=P(e.buffer),_=0;_<a;_++){var w=_<s?l:c;f[_]=g.slice(h,h+w),y[_]=d.encode(f[_]),h+=w,m=Math.max(m,w)}var v,b,T=S(r),x=0;for(v=0;v<m;v++)for(b=0;b<a;b++)v<f[b].length&&(T[x++]=f[b][v]);for(v=0;v<p;v++)for(b=0;b<a;b++)T[x++]=y[b][v];return T}(r,e,t)}function Ot(e,t,n,r){var o;if(_(e))o=Mt.fromArray(e);else{if("string"!=typeof e)throw new Error("Invalid data");var i=t;if(!i){var a=Mt.rawSplit(e);i=gt.getBestVersionForData(a,n)}o=Mt.fromString(e,i||40)}var s=gt.getBestVersionForData(o,n);if(!s)throw new Error("The amount of data is too big to be stored in a QR Code");if(t){if(t<s)throw new Error("\nThe chosen QR Code version cannot contain this amount of data.\nMinimum version required to store current data is: "+s+".\n")}else t=s;var u=Nt(t,n,o),l=R(t),c=new H(l);return function(e,t){for(var n=e.size,r=Y(t),o=0;o<r.length;o++)for(var i=r[o][0],a=r[o][1],s=-1;s<=7;s++)if(!(i+s<=-1||n<=i+s))for(var u=-1;u<=7;u++)a+u<=-1||n<=a+u||(s>=0&&s<=6&&(0===u||6===u)||u>=0&&u<=6&&(0===s||6===s)||s>=2&&s<=4&&u>=2&&u<=4?e.set(i+s,a+u,!0,!0):e.set(i+s,a+u,!1,!0))}(c,t),function(e){for(var t=e.size,n=8;n<t-8;n++){var r=n%2==0;e.set(n,6,r,!0),e.set(6,n,r,!0)}}(c),function(e,t){for(var n=j.getPositions(t),r=0;r<n.length;r++)for(var o=n[r][0],i=n[r][1],a=-2;a<=2;a++)for(var s=-2;s<=2;s++)-2===a||2===a||-2===s||2===s||0===a&&0===s?e.set(o+a,i+s,!0,!0):e.set(o+a,i+s,!1,!0)}(c,t),Rt(c,n,0),t>=7&&function(e,t){for(var n,r,o,i=e.size,a=gt.getEncodedBits(t),s=0;s<18;s++)n=Math.floor(s/3),r=s%3+i-8-3,o=1==(a>>s&1),e.set(n,r,o,!0),e.set(r,n,o,!0)}(c,t),function(e,t){for(var n=e.size,r=-1,o=n-1,i=7,a=0,s=n-1;s>0;s-=2)for(6===s&&s--;;){for(var u=0;u<2;u++)if(!e.isReserved(o,s-u)){var l=!1;a<t.length&&(l=1==(t[a]>>>i&1)),e.set(o,s-u,l),-1==--i&&(a++,i=7)}if((o+=r)<0||n<=o){o-=r,r=-r;break}}}(c,u),isNaN(r)&&(r=q.getBestMask(c,Rt.bind(null,c,n))),q.applyMask(r,c),Rt(c,n,r),{modules:c,version:t,errorCorrectionLevel:n,maskPattern:r,segments:o}}Mt.fromArray,Mt.fromString,Mt.rawSplit;var Bt=function(e,t){if(void 0===e||""===e)throw new Error("No input text");var n,r,o=U.M;return void 0!==t&&(o=U.from(t.errorCorrectionLevel,U.M),n=gt.from(t.version),r=q.from(t.maskPattern),t.toSJISFunc&&B(t.toSJISFunc)),Ot(e,n,o,r)},It=r((function(e,t){function n(e){if("number"==typeof e&&(e=e.toString()),"string"!=typeof e)throw new Error("Color should be defined as hex string");var t=e.slice().replace("#","").split("");if(t.length<3||5===t.length||t.length>8)throw new Error("Invalid hex color: "+e);3!==t.length&&4!==t.length||(t=Array.prototype.concat.apply([],t.map((function(e){return[e,e]})))),6===t.length&&t.push("F","F");var n=parseInt(t.join(""),16);return{r:n>>24&255,g:n>>16&255,b:n>>8&255,a:255&n,hex:"#"+t.slice(0,6).join("")}}t.getOptions=function(e){e||(e={}),e.color||(e.color={});var t=void 0===e.margin||null===e.margin||e.margin<0?4:e.margin,r=e.width&&e.width>=21?e.width:void 0,o=e.scale||4;return{width:r,scale:r?4:o,margin:t,color:{dark:n(e.color.dark||"#000000ff"),light:n(e.color.light||"#ffffffff")},type:e.type,rendererOpts:e.rendererOpts||{}}},t.getScale=function(e,t){return t.width&&t.width>=e+2*t.margin?t.width/(e+2*t.margin):t.scale},t.getImageWidth=function(e,n){var r=t.getScale(e,n);return Math.floor((e+2*n.margin)*r)},t.qrToImageData=function(e,n,r){for(var o=n.modules.size,i=n.modules.data,a=t.getScale(o,r),s=Math.floor((o+2*r.margin)*a),u=r.margin*a,l=[r.color.light,r.color.dark],c=0;c<s;c++)for(var p=0;p<s;p++){var d=4*(c*s+p),h=r.color.light;if(c>=u&&p>=u&&c<s-u&&p<s-u)h=l[i[Math.floor((c-u)/a)*o+Math.floor((p-u)/a)]?1:0];e[d++]=h.r,e[d++]=h.g,e[d++]=h.b,e[d]=h.a}}}));It.getOptions,It.getScale,It.getImageWidth,It.qrToImageData;var Lt=r((function(e,t){t.render=function(e,t,n){var r=n,o=t;void 0!==r||t&&t.getContext||(r=t,t=void 0),t||(o=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),r=It.getOptions(r);var i=It.getImageWidth(e.modules.size,r),a=o.getContext("2d"),s=a.createImageData(i,i);return It.qrToImageData(s.data,e,r),function(e,t,n){e.clearRect(0,0,t.width,t.height),t.style||(t.style={}),t.height=n,t.width=n,t.style.height=n+"px",t.style.width=n+"px"}(a,o,i),a.putImageData(s,0,0),o},t.renderToDataURL=function(e,n,r){var o=r;void 0!==o||n&&n.getContext||(o=n,n=void 0),o||(o={});var i=t.render(e,n,o),a=o.type||"image/png",s=o.rendererOpts||{};return i.toDataURL(a,s.quality)}}));function Ut(e,t){var n=e.a/255,r=t+'="'+e.hex+'"';return n<1?r+" "+t+'-opacity="'+n.toFixed(2).slice(1)+'"':r}function Ft(e,t,n){var r=e+t;return void 0!==n&&(r+=" "+n),r}Lt.render,Lt.renderToDataURL;var Dt=function(e,t,n){var r=It.getOptions(t),o=e.modules.size,i=e.modules.data,a=o+2*r.margin,s=r.color.light.a?"<path "+Ut(r.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",u="<path "+Ut(r.color.dark,"stroke")+' d="'+function(e,t,n){for(var r="",o=0,i=!1,a=0,s=0;s<e.length;s++){var u=Math.floor(s%t),l=Math.floor(s/t);u||i||(i=!0),e[s]?(a++,s>0&&u>0&&e[s-1]||(r+=i?Ft("M",u+n,.5+l+n):Ft("m",o,0),o=0,i=!1),u+1<t&&e[s+1]||(r+=Ft("h",a),a=0)):o++}return r}(i,o,r.margin)+'"/>',l='viewBox="0 0 '+a+" "+a+'"',c='<svg xmlns="http://www.w3.org/2000/svg" '+(r.width?'width="'+r.width+'" height="'+r.width+'" ':"")+l+' shape-rendering="crispEdges">'+s+u+"</svg>\n";return"function"==typeof n&&n(null,c),c};function Wt(e,t,n,r,o){var i=[].slice.call(arguments,1),a=i.length,s="function"==typeof i[a-1];if(!s&&!m())throw new Error("Callback required as last argument");if(!s){if(a<1)throw new Error("Too few arguments provided");return 1===a?(n=t,t=r=void 0):2!==a||t.getContext||(r=n,n=t,t=void 0),new Promise((function(o,i){try{var a=Bt(n,r);o(e(a,t,r))}catch(e){i(e)}}))}if(a<2)throw new Error("Too few arguments provided");2===a?(o=n,n=t,t=r=void 0):3===a&&(t.getContext&&void 0===o?(o=r,r=void 0):(o=r,r=n,n=t,t=void 0));try{var u=Bt(n,r);o(null,e(u,t,r))}catch(e){o(e)}}var Ht={create:Bt,toCanvas:Wt.bind(null,Lt.render),toDataURL:Wt.bind(null,Lt.renderToDataURL),toString:Wt.bind(null,(function(e,t,n){return Dt(e,n)}))},jt=r((function(e,t){var n,r,o,i,a,s,u,l,c={},p=[],d=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord/i;function h(e,t){for(var n in t)e[n]=t[n];return e}function f(e){var t=e.parentNode;t&&t.removeChild(e)}function y(e,t,n){var r,o=arguments,i={};for(r in t)"key"!==r&&"ref"!==r&&(i[r]=t[r]);if(arguments.length>3)for(n=[n],r=3;r<arguments.length;r++)n.push(o[r]);if(null!=n&&(i.children=n),"function"==typeof e&&null!=e.defaultProps)for(r in e.defaultProps)void 0===i[r]&&(i[r]=e.defaultProps[r]);return m(e,i,t&&t.key,t&&t.ref,null)}function m(e,t,r,o,i){var a={type:e,props:t,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:i};return null==i&&(a.__v=a),n.vnode&&n.vnode(a),a}function g(e){return e.children}function _(e,t){this.props=e,this.context=t}function w(e,t){if(null==t)return e.__?w(e.__,e.__.__k.indexOf(e)+1):null;for(var n;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e)return n.__e;return"function"==typeof e.type?w(e):null}function v(e){var t,n;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(n=e.__k[t])&&null!=n.__e){e.__e=e.__c.base=n.__e;break}return v(e)}}function b(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!i++||s!==n.debounceRendering)&&((s=n.debounceRendering)||a)(T)}function T(){for(var e;i=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,n,r,o,i,a,s;e.__d&&(a=(i=(t=e).__v).__e,(s=t.__P)&&(n=[],(r=h({},i)).__v=r,o=S(s,i,r,t.__n,void 0!==s.ownerSVGElement,null,n,null==a?w(i):a),P(n,i),o!=a&&v(i)))}))}function x(e,t,n,r,o,i,a,s,u){var l,d,h,y,m,g,_,v=n&&n.__k||p,b=v.length;if(s==c&&(s=null!=i?i[0]:b?w(n,0):null),l=0,t.__k=C(t.__k,(function(n){if(null!=n){if(n.__=t,n.__b=t.__b+1,null===(h=v[l])||h&&n.key==h.key&&n.type===h.type)v[l]=void 0;else for(d=0;d<b;d++){if((h=v[d])&&n.key==h.key&&n.type===h.type){v[d]=void 0;break}h=null}if(y=S(e,n,h=h||c,r,o,i,a,s,u),(d=n.ref)&&h.ref!=d&&(_||(_=[]),h.ref&&_.push(h.ref,null,n),_.push(d,n.__c||y,n)),null!=y){var p;if(null==g&&(g=y),void 0!==n.__d)p=n.__d,n.__d=void 0;else if(i==h||y!=s||null==y.parentNode){e:if(null==s||s.parentNode!==e)e.appendChild(y),p=null;else{for(m=s,d=0;(m=m.nextSibling)&&d<b;d+=2)if(m==y)break e;e.insertBefore(y,s),p=s}"option"==t.type&&(e.value="")}s=void 0!==p?p:y.nextSibling,"function"==typeof t.type&&(t.__d=s)}else s&&h.__e==s&&s.parentNode!=e&&(s=w(h))}return l++,n})),t.__e=g,null!=i&&"function"!=typeof t.type)for(l=i.length;l--;)null!=i[l]&&f(i[l]);for(l=b;l--;)null!=v[l]&&N(v[l],v[l]);if(_)for(l=0;l<_.length;l++)R(_[l],_[++l],_[++l])}function C(e,t,n){if(null==n&&(n=[]),null==e||"boolean"==typeof e)t&&n.push(t(null));else if(Array.isArray(e))for(var r=0;r<e.length;r++)C(e[r],t,n);else n.push(t?t("string"==typeof e||"number"==typeof e?m(null,e,null,null,e):null!=e.__e||null!=e.__c?m(e.type,e.props,e.key,null,e.__v):e):e);return n}function E(e,t,n){"-"===t[0]?e.setProperty(t,n):e[t]="number"==typeof n&&!1===d.test(t)?n+"px":null==n?"":n}function A(e,t,n,r,o){var i,a,s,u,l;if(o?"className"===t&&(t="class"):"class"===t&&(t="className"),"style"===t)if(i=e.style,"string"==typeof n)i.cssText=n;else{if("string"==typeof r&&(i.cssText="",r=null),r)for(u in r)n&&u in n||E(i,u,"");if(n)for(l in n)r&&n[l]===r[l]||E(i,l,n[l])}else"o"===t[0]&&"n"===t[1]?(a=t!==(t=t.replace(/Capture$/,"")),s=t.toLowerCase(),t=(s in e?s:t).slice(2),n?(r||e.addEventListener(t,k,a),(e.l||(e.l={}))[t]=n):e.removeEventListener(t,k,a)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&!o&&t in e?e[t]=null==n?"":n:"function"!=typeof n&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/^xlink:?/,""))?null==n||!1===n?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),n):null==n||!1===n&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,n))}function k(e){this.l[e.type](n.event?n.event(e):e)}function S(e,t,r,o,i,a,s,u,l){var c,p,d,f,y,m,w,v,b,T,C=t.type;if(void 0!==t.constructor)return null;(c=n.__b)&&c(t);try{e:if("function"==typeof C){if(v=t.props,b=(c=C.contextType)&&o[c.__c],T=c?b?b.props.value:c.__:o,r.__c?w=(p=t.__c=r.__c).__=p.__E:("prototype"in C&&C.prototype.render?t.__c=p=new C(v,T):(t.__c=p=new _(v,T),p.constructor=C,p.render=O),b&&b.sub(p),p.props=v,p.state||(p.state={}),p.context=T,p.__n=o,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=C.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=h({},p.__s)),h(p.__s,C.getDerivedStateFromProps(v,p.__s))),f=p.props,y=p.state,d)null==C.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==C.getDerivedStateFromProps&&v!==f&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(v,T),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(v,p.__s,T)||t.__v===r.__v&&!p.__){for(p.props=v,p.state=p.__s,t.__v!==r.__v&&(p.__d=!1),p.__v=t,t.__e=r.__e,t.__k=r.__k,p.__h.length&&s.push(p),c=0;c<t.__k.length;c++)t.__k[c]&&(t.__k[c].__=t);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(v,p.__s,T),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(f,y,m)}))}p.context=T,p.props=v,p.state=p.__s,(c=n.__r)&&c(t),p.__d=!1,p.__v=t,p.__P=e,c=p.render(p.props,p.state,p.context),t.__k=null!=c&&c.type==g&&null==c.key?c.props.children:Array.isArray(c)?c:[c],null!=p.getChildContext&&(o=h(h({},o),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(m=p.getSnapshotBeforeUpdate(f,y)),x(e,t,r,o,i,a,s,u,l),p.base=t.__e,p.__h.length&&s.push(p),w&&(p.__E=p.__=null),p.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=M(r.__e,t,r,o,i,a,s,l);(c=n.diffed)&&c(t)}catch(e){t.__v=null,n.__e(e,t,r)}return t.__e}function P(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function M(e,t,n,r,o,i,a,s){var u,l,d,h,f,y=n.props,m=t.props;if(o="svg"===t.type||o,null!=i)for(u=0;u<i.length;u++)if(null!=(l=i[u])&&((null===t.type?3===l.nodeType:l.localName===t.type)||e==l)){e=l,i[u]=null;break}if(null==e){if(null===t.type)return document.createTextNode(m);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,m.is&&{is:m.is}),i=null,s=!1}if(null===t.type)y!==m&&e.data!=m&&(e.data=m);else{if(null!=i&&(i=p.slice.call(e.childNodes)),d=(y=n.props||c).dangerouslySetInnerHTML,h=m.dangerouslySetInnerHTML,!s){if(y===c)for(y={},f=0;f<e.attributes.length;f++)y[e.attributes[f].name]=e.attributes[f].value;(h||d)&&(h&&d&&h.__html==d.__html||(e.innerHTML=h&&h.__html||""))}(function(e,t,n,r,o){var i;for(i in n)"children"===i||"key"===i||i in t||A(e,i,null,n[i],r);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||n[i]===t[i]||A(e,i,t[i],n[i],r)})(e,m,y,o,s),h?t.__k=[]:(t.__k=t.props.children,x(e,t,n,r,"foreignObject"!==t.type&&o,i,a,c,s)),s||("value"in m&&void 0!==(u=m.value)&&u!==e.value&&A(e,"value",u,y.value,!1),"checked"in m&&void 0!==(u=m.checked)&&u!==e.checked&&A(e,"checked",u,y.checked,!1))}return e}function R(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function N(e,t,r){var o,i,a;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||R(o,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&N(o[a],t,r);null!=i&&f(i)}function O(e,t,n){return this.constructor(e,n)}function B(e,t,r){var o,i,a;n.__&&n.__(e,t),i=(o=r===u)?null:r&&r.__k||t.__k,e=y(g,null,[e]),a=[],S(t,(o?t:r||t).__k=e,i||c,c,void 0!==t.ownerSVGElement,r&&!o?[r]:i?null:p.slice.call(t.childNodes),a,r||c,o),P(a,e)}n={__e:function(e,t){for(var n,r;t=t.__;)if((n=t.__c)&&!n.__)try{if(n.constructor&&null!=n.constructor.getDerivedStateFromError&&(r=!0,n.setState(n.constructor.getDerivedStateFromError(e))),null!=n.componentDidCatch&&(r=!0,n.componentDidCatch(e)),r)return b(n.__E=n)}catch(t){e=t}throw e}},r=function(e){return null!=e&&void 0===e.constructor},_.prototype.setState=function(e,t){var n;n=this.__s!==this.state?this.__s:this.__s=h({},this.state),"function"==typeof e&&(e=e(n,this.props)),e&&h(n,e),null!=e&&this.__v&&(t&&this.__h.push(t),b(this))},_.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),b(this))},_.prototype.render=g,o=[],i=0,a="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,u=c,l=0,t.render=B,t.hydrate=function(e,t){B(e,t,u)},t.createElement=y,t.h=y,t.Fragment=g,t.createRef=function(){return{}},t.isValidElement=r,t.Component=_,t.cloneElement=function(e,t){var n,r;for(r in t=h(h({},e.props),t),arguments.length>2&&(t.children=p.slice.call(arguments,2)),n={},t)"key"!==r&&"ref"!==r&&(n[r]=t[r]);return m(e.type,n,t.key||e.key,t.ref||e.ref,null)},t.createContext=function(e){var t={},n={__c:"__cC"+l++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var r,o=this;return this.getChildContext||(r=[],this.getChildContext=function(){return t[n.__c]=o,t},this.shouldComponentUpdate=function(e){o.props.value!==e.value&&r.some((function(t){t.context=e.value,b(t)}))},this.sub=function(e){r.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){r.splice(r.indexOf(e),1),t&&t.call(e)}}),e.children}};return n.Consumer.contextType=n,n.Provider.__=n,n},t.toChildArray=C,t._e=N,t.options=n}));jt.render,jt.hydrate,jt.createElement,jt.h,jt.Fragment,jt.createRef,jt.isValidElement,jt.Component,jt.cloneElement,jt.createContext,jt.toChildArray,jt._e,jt.options;var zt=r((function(e,t){var n,r,o,i=0,a=[],s=jt.options.__r,u=jt.options.diffed,l=jt.options.__c,c=jt.options.unmount;function p(e,t){jt.options.__h&&jt.options.__h(r,e,i||t),i=0;var n=r.__H||(r.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function d(e){return i=1,h(v,e)}function h(e,t,o){var i=p(n++,2);return i.__c||(i.__c=r,i.__=[o?o(t):v(void 0,t),function(t){var n=e(i.__[0],t);i.__[0]!==n&&(i.__[0]=n,i.__c.setState({}))}]),i.__}function f(e,t){var o=p(n++,4);!jt.options.__s&&w(o.__H,t)&&(o.__=e,o.__H=t,r.__h.push(o))}function y(e,t){var r=p(n++,7);return w(r.__H,t)?(r.__H=t,r.__h=e,r.__=e()):r.__}function m(){a.some((function(e){if(e.__P)try{e.__H.__h.forEach(g),e.__H.__h.forEach(_),e.__H.__h=[]}catch(t){return e.__H.__h=[],jt.options.__e(t,e.__v),!0}})),a=[]}function g(e){e.t&&e.t()}function _(e){var t=e.__();"function"==typeof t&&(e.t=t)}function w(e,t){return!e||t.some((function(t,n){return t!==e[n]}))}function v(e,t){return"function"==typeof t?t(e):t}jt.options.__r=function(e){s&&s(e),n=0,(r=e.__c).__H&&(r.__H.__h.forEach(g),r.__H.__h.forEach(_),r.__H.__h=[])},jt.options.diffed=function(e){u&&u(e);var t=e.__c;if(t){var n=t.__H;n&&n.__h.length&&(1!==a.push(t)&&o===jt.options.requestAnimationFrame||((o=jt.options.requestAnimationFrame)||function(e){var t,n=function(){clearTimeout(r),cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,100);"undefined"!=typeof window&&(t=requestAnimationFrame(n))})(m))}},jt.options.__c=function(e,t){t.some((function(e){try{e.__h.forEach(g),e.__h=e.__h.filter((function(e){return!e.__||_(e)}))}catch(n){t.some((function(e){e.__h&&(e.__h=[])})),t=[],jt.options.__e(n,e.__v)}})),l&&l(e,t)},jt.options.unmount=function(e){c&&c(e);var t=e.__c;if(t){var n=t.__H;if(n)try{n.__.forEach((function(e){return e.t&&e.t()}))}catch(e){jt.options.__e(e,t.__v)}}},t.useState=d,t.useReducer=h,t.useEffect=function(e,t){var o=p(n++,3);!jt.options.__s&&w(o.__H,t)&&(o.__=e,o.__H=t,r.__H.__h.push(o))},t.useLayoutEffect=f,t.useRef=function(e){return i=5,y((function(){return{current:e}}),[])},t.useImperativeHandle=function(e,t,n){i=6,f((function(){"function"==typeof e?e(t()):e&&(e.current=t())}),null==n?n:n.concat(e))},t.useMemo=y,t.useCallback=function(e,t){return i=8,y((function(){return e}),t)},t.useContext=function(e){var t=r.context[e.__c],o=p(n++,9);return o.__c=e,t?(null==o.__&&(o.__=!0,t.sub(r)),t.props.value):e.__},t.useDebugValue=function(e,t){jt.options.useDebugValue&&jt.options.useDebugValue(t?t(e):e)},t.useErrorBoundary=function(e){var t=p(n++,10),o=d();return t.__=e,r.componentDidCatch||(r.componentDidCatch=function(e){t.__&&t.__(e),o[1](e)}),[o[0],function(){o[1](void 0)}]}}));zt.useState,zt.useReducer,zt.useEffect,zt.useLayoutEffect,zt.useRef,zt.useImperativeHandle,zt.useMemo,zt.useCallback,zt.useContext,zt.useDebugValue,zt.useErrorBoundary;var Yt=r((function(e,t){var n=zt,r=jt;function o(e,t){for(var n in t)e[n]=t[n];return e}function i(e,t){for(var n in e)if("__source"!==n&&!(n in t))return!0;for(var r in t)if("__source"!==r&&e[r]!==t[r])return!0;return!1}var a=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this).isPureReactComponent=!0,n}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.shouldComponentUpdate=function(e,t){return i(this.props,e)||i(this.state,t)},r}(r.Component);function s(e,t){function n(e){var n=this.props.ref,r=n==e.ref;return!r&&n&&(n.call?n(null):n.current=null),t?!t(this.props,e)||!r:i(this.props,e)}function a(t){return this.shouldComponentUpdate=n,r.createElement(e,o({},t))}return a.prototype.isReactComponent=!0,a.displayName="Memo("+(e.displayName||e.name)+")",a.t=!0,a}var u=r.options.__b;function l(e){function t(t){var n=o({},t);return delete n.ref,e(n,t.ref)}return t.prototype.isReactComponent=t.t=!0,t.displayName="ForwardRef("+(e.displayName||e.name)+")",t}r.options.__b=function(e){e.type&&e.type.t&&e.ref&&(e.props.ref=e.ref,e.ref=null),u&&u(e)};var c=function(e,t){return e?r.toChildArray(e).reduce((function(e,n,r){return e.concat(t(n,r))}),[]):null},p={map:c,forEach:c,count:function(e){return e?r.toChildArray(e).length:0},only:function(e){if(1!==(e=r.toChildArray(e)).length)throw new Error("Children.only() expects only one child.");return e[0]},toArray:r.toChildArray},d=r.options.__e;function h(e){return e&&((e=o({},e)).__c=null,e.__k=e.__k&&e.__k.map(h)),e}function f(){this.__u=0,this.o=null,this.__b=null}function y(e){var t=e.__.__c;return t&&t.u&&t.u(e)}function m(e){var t,n,o;function i(i){if(t||(t=e()).then((function(e){n=e.default||e}),(function(e){o=e})),o)throw o;if(!n)throw t;return r.createElement(n,i)}return i.displayName="Lazy",i.t=!0,i}function g(){this.i=null,this.l=null}r.options.__e=function(e,t,n){if(e.then)for(var r,o=t;o=o.__;)if((r=o.__c)&&r.__c)return r.__c(e,t.__c);d(e,t,n)},(f.prototype=new r.Component).__c=function(e,t){var n=this;null==n.o&&(n.o=[]),n.o.push(t);var r=y(n.__v),o=!1,i=function(){o||(o=!0,r?r(a):a())};t.__c=t.componentWillUnmount,t.componentWillUnmount=function(){i(),t.__c&&t.__c()};var a=function(){var e;if(!--n.__u)for(n.__v.__k[0]=n.state.u,n.setState({u:n.__b=null});e=n.o.pop();)e.forceUpdate()};n.__u++||n.setState({u:n.__b=n.__v.__k[0]}),e.then(i,i)},f.prototype.render=function(e,t){return this.__b&&(this.__v.__k[0]=h(this.__b),this.__b=null),[r.createElement(r.Component,null,t.u?null:e.children),t.u&&e.fallback]};var _=function(e,t,n){if(++n[1]===n[0]&&e.l.delete(t),e.props.revealOrder&&("t"!==e.props.revealOrder[0]||!e.l.size))for(n=e.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;e.i=n=n[2]}};(g.prototype=new r.Component).u=function(e){var t=this,n=y(t.__v),r=t.l.get(e);return r[0]++,function(o){var i=function(){t.props.revealOrder?(r.push(o),_(t,e,r)):o()};n?n(i):i()}},g.prototype.render=function(e){this.i=null,this.l=new Map;var t=r.toChildArray(e.children);e.revealOrder&&"b"===e.revealOrder[0]&&t.reverse();for(var n=t.length;n--;)this.l.set(t[n],this.i=[1,0,this.i]);return e.children},g.prototype.componentDidUpdate=g.prototype.componentDidMount=function(){var e=this;e.l.forEach((function(t,n){_(e,n,t)}))};var w=function(){function e(){}var t=e.prototype;return t.getChildContext=function(){return this.props.context},t.render=function(e){return e.children},e}();function v(e){var t=this,n=e.container,o=r.createElement(w,{context:t.context},e.vnode);return t.s&&t.s!==n&&(t.p.parentNode&&t.s.removeChild(t.p),r._e(t.v),t.h=!1),e.vnode?t.h?(n.__k=t.__k,r.render(o,n),t.__k=n.__k):(t.p=document.createTextNode(""),r.hydrate("",n),n.appendChild(t.p),t.h=!0,t.s=n,r.render(o,n,t.p),t.__k=t.p.__k):t.h&&(t.p.parentNode&&t.s.removeChild(t.p),r._e(t.v)),t.v=o,t.componentWillUnmount=function(){t.p.parentNode&&t.s.removeChild(t.p),r._e(t.v)},null}function b(e,t){return r.createElement(v,{vnode:e,container:t})}var T=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/;r.Component.prototype.isReactComponent={};var x="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;function C(e,t,n){if(null==t.__k)for(;t.firstChild;)t.removeChild(t.firstChild);return r.render(e,t),"function"==typeof n&&n(),e?e.__c:null}var E=r.options.event;function A(e,t){e["UNSAFE_"+t]&&!e[t]&&Object.defineProperty(e,t,{configurable:!1,get:function(){return this["UNSAFE_"+t]},set:function(e){this["UNSAFE_"+t]=e}})}r.options.event=function(e){E&&(e=E(e)),e.persist=function(){};var t=!1,n=!1,r=e.stopPropagation;e.stopPropagation=function(){r.call(e),t=!0};var o=e.preventDefault;return e.preventDefault=function(){o.call(e),n=!0},e.isPropagationStopped=function(){return t},e.isDefaultPrevented=function(){return n},e.nativeEvent=e};var k={configurable:!0,get:function(){return this.class}},S=r.options.vnode;function P(e){return r.createElement.bind(null,e)}function M(e){return!!e&&e.$$typeof===x}function R(e){return M(e)?r.cloneElement.apply(null,arguments):e}function N(e){return!!e.__k&&(r.render(null,e),!0)}function O(e){return e&&(e.base||1===e.nodeType&&e)||null}r.options.vnode=function(e){e.$$typeof=x;var t=e.type,n=e.props;if(t){if(n.class!=n.className&&(k.enumerable="className"in n,null!=n.className&&(n.class=n.className),Object.defineProperty(n,"className",k)),"function"!=typeof t){var o,i,a;for(a in n.defaultValue&&void 0!==n.value&&(n.value||0===n.value||(n.value=n.defaultValue),delete n.defaultValue),Array.isArray(n.value)&&n.multiple&&"select"===t&&(r.toChildArray(n.children).forEach((function(e){-1!=n.value.indexOf(e.props.value)&&(e.props.selected=!0)})),delete n.value),n)if(o=T.test(a))break;if(o)for(a in i=e.props={},n)i[T.test(a)?a.replace(/[A-Z0-9]/,"-$&").toLowerCase():a]=n[a]}!function(t){var n=e.type,r=e.props;if(r&&"string"==typeof n){var o={};for(var i in r)/^on(Ani|Tra|Tou)/.test(i)&&(r[i.toLowerCase()]=r[i],delete r[i]),o[i.toLowerCase()]=i;if(o.ondoubleclick&&(r.ondblclick=r[o.ondoubleclick],delete r[o.ondoubleclick]),o.onbeforeinput&&(r.onbeforeinput=r[o.onbeforeinput],delete r[o.onbeforeinput]),o.onchange&&("textarea"===n||"input"===n.toLowerCase()&&!/^fil|che|ra/i.test(r.type))){var a=o.oninput||"oninput";r[a]||(r[a]=r[o.onchange],delete r[o.onchange])}}}(),"function"==typeof t&&!t.m&&t.prototype&&(A(t.prototype,"componentWillMount"),A(t.prototype,"componentWillReceiveProps"),A(t.prototype,"componentWillUpdate"),t.m=!0)}S&&S(e)};var B=function(e,t){return e(t)},I={useState:n.useState,useReducer:n.useReducer,useEffect:n.useEffect,useLayoutEffect:n.useLayoutEffect,useRef:n.useRef,useImperativeHandle:n.useImperativeHandle,useMemo:n.useMemo,useCallback:n.useCallback,useContext:n.useContext,useDebugValue:n.useDebugValue,version:"16.8.0",Children:p,render:C,hydrate:C,unmountComponentAtNode:N,createPortal:b,createElement:r.createElement,createContext:r.createContext,createFactory:P,cloneElement:R,createRef:r.createRef,Fragment:r.Fragment,isValidElement:M,findDOMNode:O,Component:r.Component,PureComponent:a,memo:s,forwardRef:l,unstable_batchedUpdates:B,Suspense:f,SuspenseList:g,lazy:m};Object.keys(n).forEach((function(e){t[e]=n[e]})),t.createElement=r.createElement,t.createContext=r.createContext,t.createRef=r.createRef,t.Fragment=r.Fragment,t.Component=r.Component,t.version="16.8.0",t.Children=p,t.render=C,t.hydrate=function(e,t,n){return r.hydrate(e,t),"function"==typeof n&&n(),e?e.__c:null},t.unmountComponentAtNode=N,t.createPortal=b,t.createFactory=P,t.cloneElement=R,t.isValidElement=M,t.findDOMNode=O,t.PureComponent=a,t.memo=s,t.forwardRef=l,t.unstable_batchedUpdates=B,t.Suspense=f,t.SuspenseList=g,t.lazy=m,t.default=I}));Yt.createElement,Yt.createContext,Yt.createRef,Yt.Fragment,Yt.Component,Yt.version,Yt.Children,Yt.render,Yt.hydrate,Yt.unmountComponentAtNode,Yt.createPortal,Yt.createFactory,Yt.cloneElement,Yt.isValidElement,Yt.findDOMNode,Yt.PureComponent,Yt.memo,Yt.forwardRef,Yt.unstable_batchedUpdates,Yt.Suspense,Yt.SuspenseList,Yt.lazy;var qt,Vt=(qt=Ht)&&"object"==typeof qt&&"default"in qt?qt.default:qt;var Gt="walletconnect-wrapper",Jt="walletconnect-style-sheet",$t="walletconnect-qrcode-modal",Kt="walletconnect-qrcode-text";function Zt(e){return Yt.createElement("div",{className:"walletconnect-modal__header"},Yt.createElement("img",{src:"data:image/svg+xml,%3C?xml version='1.0' encoding='UTF-8'?%3E %3Csvg width='300px' height='185px' viewBox='0 0 300 185' version='1.1' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink'%3E %3C!-- Generator: Sketch 49.3 (51167) - http://www.bohemiancoding.com/sketch --%3E %3Ctitle%3EWalletConnect%3C/title%3E %3Cdesc%3ECreated with Sketch.%3C/desc%3E %3Cdefs%3E%3C/defs%3E %3Cg id='Page-1' stroke='none' stroke-width='1' fill='none' fill-rule='evenodd'%3E %3Cg id='walletconnect-logo-alt' fill='%233B99FC' fill-rule='nonzero'%3E %3Cpath d='M61.4385429,36.2562612 C110.349767,-11.6319051 189.65053,-11.6319051 238.561752,36.2562612 L244.448297,42.0196786 C246.893858,44.4140867 246.893858,48.2961898 244.448297,50.690599 L224.311602,70.406102 C223.088821,71.6033071 221.106302,71.6033071 219.883521,70.406102 L211.782937,62.4749541 C177.661245,29.0669724 122.339051,29.0669724 88.2173582,62.4749541 L79.542302,70.9685592 C78.3195204,72.1657633 76.337001,72.1657633 75.1142214,70.9685592 L54.9775265,51.2530561 C52.5319653,48.8586469 52.5319653,44.9765439 54.9775265,42.5821357 L61.4385429,36.2562612 Z M280.206339,77.0300061 L298.128036,94.5769031 C300.573585,96.9713 300.573599,100.85338 298.128067,103.247793 L217.317896,182.368927 C214.872352,184.763353 210.907314,184.76338 208.461736,182.368989 C208.461726,182.368979 208.461714,182.368967 208.461704,182.368957 L151.107561,126.214385 C150.496171,125.615783 149.504911,125.615783 148.893521,126.214385 C148.893517,126.214389 148.893514,126.214393 148.89351,126.214396 L91.5405888,182.368927 C89.095052,184.763359 85.1300133,184.763399 82.6844276,182.369014 C82.6844133,182.369 82.684398,182.368986 82.6843827,182.36897 L1.87196327,103.246785 C-0.573596939,100.852377 -0.573596939,96.9702735 1.87196327,94.5758653 L19.7936929,77.028998 C22.2392531,74.6345898 26.2042918,74.6345898 28.6498531,77.028998 L86.0048306,133.184355 C86.6162214,133.782957 87.6074796,133.782957 88.2188704,133.184355 C88.2188796,133.184346 88.2188878,133.184338 88.2188969,133.184331 L145.571,77.028998 C148.016505,74.6345347 151.981544,74.6344449 154.427161,77.028798 C154.427195,77.0288316 154.427229,77.0288653 154.427262,77.028899 L211.782164,133.184331 C212.393554,133.782932 213.384814,133.782932 213.996204,133.184331 L271.350179,77.0300061 C273.79574,74.6355969 277.760778,74.6355969 280.206339,77.0300061 Z' id='WalletConnect'%3E%3C/path%3E %3C/g%3E %3C/g%3E %3C/svg%3E",className:"walletconnect-modal__headerLogo"}),Yt.createElement("p",null,"WalletConnect"),Yt.createElement("div",{className:"walletconnect-modal__close__wrapper",onClick:e.onClose},Yt.createElement("div",{id:"walletconnect-qrcode-close",className:"walletconnect-modal__close__icon"},Yt.createElement("div",{className:"walletconnect-modal__close__line1"}),Yt.createElement("div",{className:"walletconnect-modal__close__line2"}))))}function Qt(e){return Yt.createElement("a",{className:"walletconnect-connect__button",href:e.href,id:"walletconnect-connect-button-"+e.name,onClick:e.onClick,rel:"noopener noreferrer",style:{backgroundColor:e.color},target:"_blank"},e.name)}"undefined"==typeof Symbol||(Symbol.iterator||(Symbol.iterator=Symbol("Symbol.iterator"))),"undefined"==typeof Symbol||(Symbol.asyncIterator||(Symbol.asyncIterator=Symbol("Symbol.asyncIterator")));function Xt(e){var t=e.color,n=e.href,r=e.name,o=e.logo,i=e.onClick;return Yt.createElement("a",{className:"walletconnect-modal__base__row",href:n,onClick:i,rel:"noopener noreferrer",target:"_blank"},Yt.createElement("h3",{className:"walletconnect-modal__base__row__h3"},r),Yt.createElement("div",{className:"walletconnect-modal__base__row__right"},Yt.createElement("div",{className:"walletconnect-modal__base__row__right__app-icon",style:{background:"url('"+o+"') "+t,backgroundSize:"100%"}}),Yt.createElement("img",{src:"data:image/svg+xml,%3Csvg width='8' height='18' viewBox='0 0 8 18' fill='none' xmlns='http://www.w3.org/2000/svg'%3E %3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M0.586301 0.213898C0.150354 0.552968 0.0718197 1.18124 0.41089 1.61719L5.2892 7.88931C5.57007 8.25042 5.57007 8.75608 5.2892 9.11719L0.410889 15.3893C0.071819 15.8253 0.150353 16.4535 0.586301 16.7926C1.02225 17.1317 1.65052 17.0531 1.98959 16.6172L6.86791 10.3451C7.7105 9.26174 7.7105 7.74476 6.86791 6.66143L1.98959 0.38931C1.65052 -0.0466374 1.02225 -0.125172 0.586301 0.213898Z' fill='%233C4252'/%3E %3C/svg%3E",className:"walletconnect-modal__base__row__right__caret"})))}function en(e){var t=e.color,n=e.href,r=e.name,o=e.logo,i=e.onClick;return Yt.createElement("a",{className:"walletconnect-connect__button__icon_anchor",href:n,onClick:i,rel:"noopener noreferrer",target:"_blank"},Yt.createElement("div",{className:"walletconnect-connect__button__icon",style:{background:"url('"+o+"') "+t,backgroundSize:"100%"}}),Yt.createElement("div",{style:{fontSize:(r.length>8?2.5:2.7)+"vw"},className:"walletconnect-connect__button__text"},r))}function tn(e){var t=y.isIOS(),n=e.qrcodeModalOptions&&e.qrcodeModalOptions.mobileLinks?e.qrcodeModalOptions.mobileLinks:void 0,r=Yt.useState(1),o=r[0],i=r[1],a=Yt.useState(!1),s=a[0],u=a[1],l=Yt.useState([]),c=l[0],p=l[1];Yt.useEffect((function(){!function(){try{if(!t)return Promise.resolve();var e=function(e,t){try{var n=e()}catch(e){return t(e)}return n&&n.then?n.then(void 0,t):n}((function(){var e=y.getWalletRegistryUrl();return Promise.resolve(fetch(e).then((function(e){return e.json()}))).then((function(e){var t=y.getMobileLinkRegistry(y.formatMobileRegistry(e),n);p(t)}))}),(function(e){console.error(e),u(!0)}));Promise.resolve(e&&e.then?e.then((function(){})):void 0)}catch(e){return Promise.reject(e)}}()}),[]);var d=c.length>5,h=Math.ceil(c.length/12),f=[12*(o-1)+1,12*o],m=c.length?c.filter((function(e,t){return t+1>=f[0]&&t+1<=f[1]})):[];return Yt.createElement("div",null,Yt.createElement("p",{id:Kt,className:"walletconnect-qrcode__text"},t?e.text.choose_preferred_wallet:e.text.connect_mobile_wallet),Yt.createElement("div",{className:"walletconnect-connect__buttons__wrapper"+(t?d?"__wrap":"":"__android")},t?m.length?m.map((function(t){var n=t.color,r=t.name,o=t.shortName,i=t.logo,a=y.formatIOSMobile(e.uri,t),s=Yt.useCallback((function(){y.saveMobileLinkInfo({name:r,href:a})}),[]);return d?Yt.createElement(en,{color:n,href:a,name:o,logo:i,onClick:s}):Yt.createElement(Xt,{color:n,href:a,name:r,logo:i,onClick:s})})):Yt.createElement(Yt.Fragment,null,Yt.createElement("p",null,s?"Something went wrong":"Loading...")):Yt.createElement(Qt,{name:e.text.connect,color:"rgb(64, 153, 255)",href:e.uri,onClick:Yt.useCallback((function(){y.saveMobileLinkInfo({name:"Unknown",href:e.uri})}),[])})),!!(t&&h>1)&&Yt.createElement("div",{className:"walletconnect-modal__footer"},Array(h).fill(0).map((function(e,t){var n=t+1,r=o===n;return Yt.createElement("a",{style:{margin:"auto 10px",fontWeight:r?"bold":"normal"},onClick:function(){return i(n)}},n)}))))}function nn(e){var t=!!e.message.trim();return Yt.createElement("div",{className:"walletconnect-qrcode__notification"+(t?" notification__show":"")},e.message)}function rn(e){var t=Yt.useState(""),n=t[0],r=t[1],o=Yt.useState(""),i=o[0],a=o[1];Yt.useEffect((function(){try{return Promise.resolve(function(e){try{var t="";return Promise.resolve(Vt.toString(e,{margin:0,type:"svg"})).then((function(e){return"string"==typeof e&&(t=e.replace("<svg",'<svg class="walletconnect-qrcode__image"')),t}))}catch(e){return Promise.reject(e)}}(e.uri)).then((function(e){a(e)}))}catch(e){Promise.reject(e)}}),[]);return Yt.createElement("div",null,Yt.createElement("p",{id:Kt,className:"walletconnect-qrcode__text"},e.text.scan_qrcode_with_wallet),Yt.createElement("div",{dangerouslySetInnerHTML:{__html:i}}),Yt.createElement("div",{className:"walletconnect-modal__footer"},Yt.createElement("a",{onClick:function(){var t=document.createElement("input");t.value=e.uri,document.body.appendChild(t),t.select(),document.execCommand("copy"),t.remove(),r(e.text.copied_to_clipboard),setInterval((function(){return r("")}),1200)}},e.text.copy_to_clipboard)),Yt.createElement(nn,{message:n}))}function on(e){var t=y.isMobile(),n=Yt.useState(!t),r=n[0],o=n[1],i={text:e.text,uri:e.uri,qrcodeModalOptions:e.qrcodeModalOptions};return Yt.createElement("div",{id:$t,className:"walletconnect-qrcode__base animated fadeIn"},Yt.createElement("div",{className:"walletconnect-modal__base"},Yt.createElement(Zt,{onClose:e.onClose}),t&&Yt.createElement("div",{className:"walletconnect-modal__mobile__toggle"+(r?" right__selected":"")},Yt.createElement("div",{className:"walletconnect-modal__mobile__toggle_selector"}),Yt.createElement("a",{onClick:function(){return o(!1)}},e.text.mobile),Yt.createElement("a",{onClick:function(){return o(!0)}},e.text.qrcode)),Yt.createElement("div",null,r?Yt.createElement(rn,Object.assign({},i)):Yt.createElement(tn,Object.assign({},i)))))}var an={de:{choose_preferred_wallet:"Wähle bevorzugte Wallet",connect_mobile_wallet:"Verbinde mit Mobile Wallet",scan_qrcode_with_wallet:"Scanne den QR-code mit einer WalletConnect kompatiblen Wallet",connect:"Verbinden",qrcode:"QR-Code",mobile:"Mobile",copy_to_clipboard:"In die Zwischenablage kopieren",copied_to_clipboard:"In die Zwischenablage kopiert!"},en:{choose_preferred_wallet:"Choose your preferred wallet",connect_mobile_wallet:"Connect to Mobile Wallet",scan_qrcode_with_wallet:"Scan QR code with a WalletConnect-compatible wallet",connect:"Connect",qrcode:"QR Code",mobile:"Mobile",copy_to_clipboard:"Copy to clipboard",copied_to_clipboard:"Copied to clipboard!"},es:{choose_preferred_wallet:"Elige tu billetera preferida",connect_mobile_wallet:"Conectar a billetera móvil",scan_qrcode_with_wallet:"Escanea el código QR con una billetera compatible con WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvil",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!"},fr:{choose_preferred_wallet:"Choisissez votre portefeuille préféré",connect_mobile_wallet:"Se connecter au portefeuille mobile",scan_qrcode_with_wallet:"Scannez le QR code avec un portefeuille compatible WalletConnect",connect:"Se connecter",qrcode:"QR Code",mobile:"Mobile",copy_to_clipboard:"Copier",copied_to_clipboard:"Copié!"},ko:{choose_preferred_wallet:"원하는 지갑을 선택하세요",connect_mobile_wallet:"모바일 지갑과 연결",scan_qrcode_with_wallet:"WalletConnect 지원 지갑에서 QR코드를 스캔하세요",connect:"연결",qrcode:"QR 코드",mobile:"모바일",copy_to_clipboard:"클립보드에 복사",copied_to_clipboard:"클립보드에 복사되었습니다!"},pt:{choose_preferred_wallet:"Escolha sua carteira preferida",connect_mobile_wallet:"Conectar-se à carteira móvel",scan_qrcode_with_wallet:"Ler o código QR com uma carteira compatível com WalletConnect",connect:"Conectar",qrcode:"Código QR",mobile:"Móvel",copy_to_clipboard:"Copiar",copied_to_clipboard:"Copiado!"},zh:{choose_preferred_wallet:"选择你的钱包",connect_mobile_wallet:"连接至移动端钱包",scan_qrcode_with_wallet:"使用兼容 WalletConnect 的钱包扫描二维码",connect:"连接",qrcode:"二维码",mobile:"移动",copy_to_clipboard:"复制到剪贴板",copied_to_clipboard:"复制到剪贴板成功！"},fa:{choose_preferred_wallet:"کیف پول مورد نظر خود را انتخاب کنید",connect_mobile_wallet:"به کیف پول موبایل وصل شوید",scan_qrcode_with_wallet:"کد QR را با یک کیف پول سازگار با WalletConnect اسکن کنید",connect:"اتصال",qrcode:"کد QR",mobile:"سیار",copy_to_clipboard:"کپی به کلیپ بورد",copied_to_clipboard:"در کلیپ بورد کپی شد!"}};function sn(){var e=y.getDocumentOrThrow(),t=e.getElementById($t);t&&(t.className=t.className.replace("fadeIn","fadeOut"),setTimeout((function(){var t=e.getElementById(Gt);t&&e.body.removeChild(t)}),300))}function un(e){return function(){sn(),e&&e()}}function ln(e,t,n){!function(){var e=y.getDocumentOrThrow(),t=e.getElementById(Jt);t&&e.head.removeChild(t);var n=e.createElement("style");n.setAttribute("id",Jt),n.innerText=':root {\n  --animation-duration: 300ms;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n\n.animated {\n  animation-duration: var(--animation-duration);\n  animation-fill-mode: both;\n}\n\n.fadeIn {\n  animation-name: fadeIn;\n}\n\n.fadeOut {\n  animation-name: fadeOut;\n}\n\n#walletconnect-wrapper {\n  -webkit-user-select: none;\n  align-items: center;\n  display: flex;\n  height: 100%;\n  justify-content: center;\n  left: 0;\n  pointer-events: none;\n  position: fixed;\n  top: 0;\n  user-select: none;\n  width: 100%;\n  z-index: 99999999999999;\n}\n\n.walletconnect-modal__headerLogo {\n  height: 21px;\n}\n\n.walletconnect-modal__header p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n  align-items: flex-start;\n  display: flex;\n  flex: 1;\n  margin-left: 5px;\n}\n\n.walletconnect-modal__close__wrapper {\n  position: absolute;\n  top: 0px;\n  right: 0px;\n  z-index: 10000;\n  background: white;\n  border-radius: 26px;\n  padding: 6px;\n  box-sizing: border-box;\n  width: 26px;\n  height: 26px;\n  cursor: pointer;\n}\n\n.walletconnect-modal__close__icon {\n  position: relative;\n  top: 7px;\n  right: 0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transform: rotate(45deg);\n}\n\n.walletconnect-modal__close__line1 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n}\n\n.walletconnect-modal__close__line2 {\n  position: absolute;\n  width: 100%;\n  border: 1px solid rgb(48, 52, 59);\n  transform: rotate(90deg);\n}\n\n.walletconnect-qrcode__base {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  background: rgba(37, 41, 46, 0.95);\n  height: 100%;\n  left: 0;\n  pointer-events: auto;\n  position: fixed;\n  top: 0;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  width: 100%;\n  will-change: opacity;\n  padding: 40px;\n  box-sizing: border-box;\n}\n\n.walletconnect-qrcode__text {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 10px 0 30px 0;\n  text-align: center;\n  width: 100%;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-qrcode__text {\n    font-size: 4vw;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-qrcode__text {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-qrcode__image {\n  width: calc(100% - 30px);\n  box-sizing: border-box;\n  cursor: none;\n  margin: 0 auto;\n}\n\n.walletconnect-qrcode__notification {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  font-size: 16px;\n  padding: 16px 20px;\n  border-radius: 16px;\n  text-align: center;\n  transition: all 0.1s ease-in-out;\n  background: white;\n  color: black;\n  margin-bottom: -60px;\n  opacity: 0;\n}\n\n.walletconnect-qrcode__notification.notification__show {\n  opacity: 1;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__header {\n    height: 130px;\n  }\n  .walletconnect-modal__base {\n    overflow: auto;\n  }\n}\n\n@media only screen and (min-device-width: 415px) and (max-width: 768px) {\n  #content {\n    max-width: 768px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 375px) and (max-width: 415px) {\n  #content {\n    max-width: 414px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (min-width: 320px) and (max-width: 375px) {\n  #content {\n    max-width: 375px;\n    box-sizing: border-box;\n  }\n}\n\n@media only screen and (max-width: 320px) {\n  #content {\n    max-width: 320px;\n    box-sizing: border-box;\n  }\n}\n\n.walletconnect-modal__base {\n  -webkit-font-smoothing: antialiased;\n  background: #ffffff;\n  border-radius: 24px;\n  box-shadow: 0 10px 50px 5px rgba(0, 0, 0, 0.4);\n  font-family: ui-rounded, "SF Pro Rounded", "SF Pro Text", medium-content-sans-serif-font,\n    -apple-system, BlinkMacSystemFont, ui-sans-serif, "Segoe UI", Roboto, Oxygen, Ubuntu, Cantarell,\n    "Open Sans", "Helvetica Neue", sans-serif;\n  margin-top: 41px;\n  padding: 24px 24px 22px;\n  pointer-events: auto;\n  position: relative;\n  text-align: center;\n  transition: 0.4s cubic-bezier(0.19, 1, 0.22, 1);\n  will-change: transform;\n  overflow: visible;\n  transform: translateY(-50%);\n  top: 50%;\n  max-width: 500px;\n  margin: auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__base {\n    padding: 24px 12px;\n  }\n}\n\n.walletconnect-modal__base .hidden {\n  transform: translateY(150%);\n  transition: 0.125s cubic-bezier(0.4, 0, 1, 1);\n}\n\n.walletconnect-modal__header {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  left: 0;\n  justify-content: space-between;\n  position: absolute;\n  top: -42px;\n  width: 100%;\n}\n\n.walletconnect-modal__base .wc-logo {\n  align-items: center;\n  display: flex;\n  height: 26px;\n  margin-top: 15px;\n  padding-bottom: 15px;\n  pointer-events: auto;\n}\n\n.walletconnect-modal__base .wc-logo div {\n  background-color: #3399ff;\n  height: 21px;\n  margin-right: 5px;\n  mask-image: url("images/wc-logo.svg") center no-repeat;\n  width: 32px;\n}\n\n.walletconnect-modal__base .wc-logo p {\n  color: #ffffff;\n  font-size: 20px;\n  font-weight: 600;\n  margin: 0;\n}\n\n.walletconnect-modal__base h2 {\n  color: rgba(60, 66, 82, 0.6);\n  font-size: 16px;\n  font-weight: 600;\n  letter-spacing: 0;\n  line-height: 1.1875em;\n  margin: 0 0 19px 0;\n  text-align: center;\n  width: 100%;\n}\n\n.walletconnect-modal__base__row {\n  -webkit-tap-highlight-color: rgba(0, 0, 0, 0);\n  align-items: center;\n  border-radius: 20px;\n  cursor: pointer;\n  display: flex;\n  height: 56px;\n  justify-content: space-between;\n  padding: 0 15px;\n  position: relative;\n  margin: 0px 0px 8px;\n  text-align: left;\n  transition: 0.15s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  will-change: transform;\n  text-decoration: none;\n}\n\n.walletconnect-modal__base__row:hover {\n  background: rgba(60, 66, 82, 0.06);\n}\n\n.walletconnect-modal__base__row:active {\n  background: rgba(60, 66, 82, 0.06);\n  transform: scale(0.975);\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n}\n\n.walletconnect-modal__base__row__h3 {\n  color: #25292e;\n  font-size: 20px;\n  font-weight: 700;\n  margin: 0;\n  padding-bottom: 3px;\n}\n\n.walletconnect-modal__base__row__right {\n  align-items: center;\n  display: flex;\n  justify-content: center;\n}\n\n.walletconnect-modal__base__row__right__app-icon {\n  border-radius: 8px;\n  height: 34px;\n  margin: 0 11px 2px 0;\n  width: 34px;\n  background-size: 100%;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-modal__base__row__right__caret {\n  height: 18px;\n  opacity: 0.3;\n  transition: 0.1s cubic-bezier(0.25, 0.46, 0.45, 0.94);\n  width: 8px;\n  will-change: opacity;\n}\n\n.walletconnect-modal__base__row:hover .caret,\n.walletconnect-modal__base__row:active .caret {\n  opacity: 0.6;\n}\n\n.walletconnect-modal__mobile__toggle {\n  width: 80%;\n  display: flex;\n  margin: 0 auto;\n  position: relative;\n  overflow: hidden;\n  border-radius: 8px;\n  margin-bottom: 5vw;\n  background: #d4d5d9;\n}\n\n.walletconnect-modal__mobile__toggle_selector {\n  width: calc(50% - 8px);\n  background: white;\n  position: absolute;\n  border-radius: 5px;\n  height: calc(100% - 8px);\n  top: 4px;\n  transition: all 0.2s ease-in-out;\n  transform: translate3d(4px, 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle.right__selected .walletconnect-modal__mobile__toggle_selector {\n  transform: translate3d(calc(100% + 12px), 0, 0);\n}\n\n.walletconnect-modal__mobile__toggle a {\n  font-size: 12px;\n  width: 50%;\n  text-align: center;\n  padding: 8px;\n  margin: 0;\n  font-weight: 600;\n  z-index: 1;\n}\n\n.walletconnect-modal__footer {\n  display: flex;\n  justify-content: center;\n  margin-top: 20px;\n}\n\n@media only screen and (max-width: 768px) {\n  .walletconnect-modal__footer {\n    margin-top: 5vw;\n  }\n}\n\n.walletconnect-modal__footer a {\n  cursor: pointer;\n  color: #898d97;\n  font-size: 15px;\n  margin: 0 auto;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-modal__footer a {\n    font-size: 14px;\n  }\n}\n\n.walletconnect-connect__buttons__wrapper {\n  max-height: 44vh;\n}\n\n.walletconnect-connect__buttons__wrapper__android {\n  margin: 50% 0;\n}\n\n.walletconnect-connect__buttons__wrapper__wrap {\n  display: grid;\n  grid-template-columns: repeat(4, 1fr);\n  margin-top: 20px;\n  margin-bottom: 10px;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__buttons__wrapper__wrap {\n    margin-top: 40px;\n  }\n}\n\n.walletconnect-connect__button {\n  background-color: rgb(64, 153, 255);\n  padding: 12px;\n  border-radius: 8px;\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n  font-weight: 500;\n}\n\n.walletconnect-connect__button__icon_anchor {\n  cursor: pointer;\n  display: flex;\n  justify-content: flex-start;\n  align-items: center;\n  margin: 8px;\n  width: 42px;\n  justify-self: center;\n  flex-direction: column;\n  text-decoration: none !important;\n}\n\n@media only screen and (max-width: 320px) {\n  .walletconnect-connect__button__icon_anchor {\n    margin: 4px;\n  }\n}\n\n.walletconnect-connect__button__icon {\n  border-radius: 10px;\n  height: 42px;\n  margin: 0;\n  width: 42px;\n  background-size: cover !important;\n  box-shadow: 0 4px 12px 0 rgba(37, 41, 46, 0.25);\n}\n\n.walletconnect-connect__button__text {\n  color: #424952;\n  font-size: 2.7vw;\n  text-decoration: none !important;\n  padding: 0;\n  margin-top: 1.8vw;\n  font-weight: 600;\n}\n\n@media only screen and (min-width: 768px) {\n  .walletconnect-connect__button__text {\n    font-size: 16px;\n    margin-top: 12px;\n  }\n}\n',e.head.appendChild(n)}();var r,o=function(){var e=y.getDocumentOrThrow(),t=e.createElement("div");return t.setAttribute("id",Gt),e.body.appendChild(t),t}();Yt.render(Yt.createElement(on,{text:(r=y.getNavigatorOrThrow().language.split("-")[0]||"en",an[r]||an.en),uri:e,onClose:un(t),qrcodeModalOptions:n}),o)}var cn=function(){return"undefined"!=typeof process&&void 0!==process.versions&&void 0!==process.versions.node};var pn={open:function(e,t,n){console.log(e),cn()?function(e){Vt.toString(e,{type:"terminal"}).then(console.log)}(e):ln(e,t,n)},close:function(){cn()||sn()}};var dn=new class{constructor(){}string2bytes32(e){let t=web3.utils.stringToHex(e);return t+=Array(67-t.length).join("0"),t}keccak256(e){return web3.utils.keccak256(e)}hexToBytes(e){return web3.utils.hexToBytes(e)}hexToAscii(e){return web3.utils.hexToAscii(e)}numberToHex(e){return web3.utils.numberToHex(e)}getAbiEventInputs(e,t){for(let n of e)if("event"==n.type&&n.name==t)return n.inputs;return null}encodeEventName(e,t){if(null==e)return null;let n=[];e.map((e=>{n.push(e.type)}));let r=t+"("+n.join(",")+")";return web3.utils.sha3(r)}encodeEventTopic(e,t){let n=this.getAbiEventInputs(e,t);return this.encodeEventName(n,t)}decodeEventLog(e,t,n,r){n=n.substr(2);let o=r.slice();o.splice(0,1);let i=t.slice();return e.eth.abi.decodeLog(i,n,o)}findEventLogs(e,t,n,r=[]){let o={transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber),address:n.address,data:[]};for(let i=0;i<r.length;i++){let a=this.parseEventLog(e,t,n,r[i]);a.eventName&&o.data.push(a)}return o}findEventOneLog(e,t,n,r=[]){let o={eventName:null,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber),address:n.address,returnValues:{}};for(let i=0;i<r.length;i++)if(o=this.parseEventOneLog(e,t,n,r[i]),o.eventName)return o;return o}parseEventOneLog(e,t,n,r){let o={eventName:null,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber),address:n.address,returnValues:{}},i=this.getAbiEventInputs(t,r);return this.encodeEventName(i,r)==n.topics[0]&&(o.returnValues=this.decodeEventLog(e,i,n.data,n.topics),o.eventName=r),console.log("web3 parseEventOneLog:",n,o),o}parseEventLog(e,t,n,r){let o={eventName:null,transactionHash:n.transactionHash,blockNumber:Number(n.blockNumber),address:n.address,returnValues:{}};for(let i of n.logs){let n=this.getAbiEventInputs(t,r);if(this.encodeEventName(n,r)==i.topics[0]){o.eventName=r,o.returnValues=this.decodeEventLog(e,n,i.data,i.topics);break}}return console.log("web3 parseEventLog:",n,o),o}};const hn={1:"https://mainnet.infura.io/v3/0e47785118b2494092b1a9a9b576c2bd",42:"https://kovan.infura.io/v3/0e47785118b2494092b1a9a9b576c2bd",56:"https://bsc-dataseed.binance.org",97:"https://data-seed-prebsc-1-s3.binance.org:8545/",128:"https://http-mainnet.hecochain.com",137:"https://matic-mainnet-full-rpc.bwarelabs.com",256:"https://http-testnet.hecochain.com",80001:"https://matic-mumbai.chainstacklabs.com",421611:"https://rinkeby.arbitrum.io/rpc",42161:"https://arb1.arbitrum.io/rpc"},fn={1:"https://etherscan.io",42:"https://kovan.etherscan.io",56:"https://bscscan.com",97:"https://testnet.bscscan.com",128:"https://hecoinfo.com",137:"https://polygonscan.com",256:"https://testnet.hecoinfo.com",80001:"https://mumbai.polygonscan.com",421611:"https://rinkeby-explorer.arbitrum.io",42161:"https://arbiscan.io"},yn={1:"Ethereum Chain Mainnet",42:"Ethereum Chain Kovan",56:"Binance Smart Chain Mainnet",97:"Binance Smart Chain Testnet",128:"HECO Chain Mainnet",137:"Matic Chain Mainnet",256:"HECO Chain Testnet",80001:"Matic Chain Testnet",421611:"Arbitrum Chain Testnet",42161:"Arbitrum Chain Mainnet"},mn={56:{BuyToken:"",GameToken:"",GameTicket:"",GamePool1:"",GamePool7:"",GamePool30:""},97:{BuyToken:"0x337610d27c682E347C9cD60BD4b3b107C9d34dDd",GameToken:"0xa1CfBf504904d9334218674f75bA192e1a64C116",GameConfig:"0x4bbCbF0dFBfD8805174a6BFFc728b825666AA147",GameTicket:"0xdc8171F9104673F62E4A44682850d8DdcCa41764",GamePool1:"0x8Cc591973135Db65DC9ABdee470b0F52Ccd966b0",GamePool7:"0x8846D9006c3F028f4CD8919DeB3b7Fb0684dd559",GamePool30:"0xe11Aa1b33cF248E80C463B6492eaD069D35A4D1a",GamePoolCS:"0x7b7b5bFA6C82D5a0c3c9028c5e75e3d37c399658",GameTeam:"0x236A1557b29E3E01A53922F255c1Ff24976adE64",GameTicket2:"0x7eeF1203e22166AabAA7BceAE0C75ABDA2B4442d",GamePool21:"0xf6CA7B63A8A326EA0CE06b4dBa6753802BCF9adc",GamePool27:"0xa4A32E2B23859c6d017a4a00E712773882980455",GamePool230:"0xd8937cabfc6ebAd9B2E5f4629019c42F616d9a55",GamePool2CS:"0x49188aCe58271d240991954a078c9215279EFd8A"}},gn={WToken:{1:"WETH",42:"WETH",56:"WBNB",97:"WBNB",128:"WHT",256:"WHT",137:"WMATIC",80001:"WMATIC",421611:"WETH",42161:"WETH"},ZeroToken:{1:"ETH",42:"ETH-T",56:"BNB",97:"BNB-T",128:"HT",256:"HT-T",137:"MATIC",80001:"MATIC",421611:"ETH",42161:"ETH-T"}};var _n=null;function wn(e,t,n,r){e.eth.getTransactionReceipt(t).then((o=>{o?o&&!o.status?r(o):n(o):setTimeout((function(){wn(e,t,n,r)}),1e3)})).catch(r)}var vn=_n=new class{constructor(){this.tryCount=0,this.chainInstalled=!1,this.connector=null,this.ethereum=null,this.ZERO_ADDR="0x0000000000000000000000000000000000000000",this.account="",this.accounts=[],this.chainId=0,this.tokens=[],this.web3=null,this.web3Util=dn,this.contractHistory=[],this.chainStatusHandles=[],this.accountsHandles=[],this.chainHandles=[],this.apiModules=[],this.myWallets={}}setSession(e,t){void 0!==t&&sessionStorage.setItem(e,t)}getSession(e){return sessionStorage.getItem(e)}handleChainStatus(e){console.log("handleChainStatus:",e);for(const t of this.chainStatusHandles)t(e)}registerModule(e){this.apiModules.push(e)}initModules(e){console.log("initModules...",e,this);for(let t of this.apiModules)t.initialize(e);for(let e of this.apiModules)e.initAfter()}cleanModules(e){console.log("cleanModules...",e,this);for(let e of this.apiModules)e.clean()}handleNewChain(e){let t=Number(e);if(e){console.log("handleNewChain:",this.chainId,t,_n.chainId),_n.chainId=t,this.chainId=t;for(const t of _n.chainHandles)t(e);_n.initModules(t)}else _n.cleanModules()}walletConnectInit(){this.connector=new WalletConnect({bridge:"https://bridge.walletconnect.org",qrcodeModal:pn});let e=[];return this.connector.connected?(e=this.connector.accounts,console.log("walletConnectInit connected:",e),this.handleChainStatus(!0),this.handleNewAccounts(e)):(console.log("walletConnectInit connect...",this),this.connector.createSession(),this.connector.on("connect",((t,n)=>{console.log('this.connector.on("connect")'),console.log(JSON.stringify(n));const{accounts:r,chainId:o}=n.params[0];e=r,this.handleNewChain(o),this.handleChainStatus(!0),this.handleNewAccounts(r)})),this.connector.on("session_update",((e,t)=>{const{accounts:n,chainId:r}=t.params[0];console.log("walletConnectInit session_update:",n),this.handleNewChain(r),this.handleNewAccounts(n)})),this.connector.on("disconnect",((e,t)=>{console.log('this.connector.on("disconnect")'),console.log("walletConnectInit disconnect"),this.handleNewAccounts([])}))),console.log("walletConnectInit account:",e),e}connectMetamask(){window.ethereum?(this.ethereum=window.ethereum,this.chainConnected()):(console.log("not found Metamask"),this.tryCount<1?setTimeout((()=>{this.connectMetamask(),this.tryCount++}),2e3):(console.log("not found Metamask, timeout"),this.handleChainStatus(!1)))}connectBinance(){window.BinanceChain?(this.ethereum=window.BinanceChain,this.chainConnected()):(console.log("not found Binance"),this.tryCount<1?setTimeout((()=>{this.connectBinance(),this.tryCount++}),2e3):(console.log("not found Binance, timeout"),this.handleChainStatus(!1)))}connectClover(){window.clover?(this.ethereum=window.clover,this.chainConnected()):(console.log("not found Clover"),this.tryCount<1?setTimeout((()=>{this.connectBinance(),this.tryCount++}),2e3):(console.log("not found Clover, timeout"),this.handleChainStatus(!1)))}connectOnto(){window.onto?(this.ethereum=window.onto,this.chainConnected()):(console.log("not found onto"),this.tryCount<1?setTimeout((()=>{this.connectOnto(),this.tryCount++}),2e3):(console.log("not found onto, timeout"),this.handleChainStatus(!1)))}chainConnected(){console.log("chain connected userAgent:",navigator.userAgent),this.chainInstalled=!0,this.web3=new web3(this.ethereum),this.ethereum.autoRefreshOnNetworkChange=!1,-1==navigator.userAgent.indexOf("Mobile")&&(console.log("chain connected on event"),this.ethereum.on("chainChanged",_n.handleNewChain),this.ethereum.on("accountsChanged",_n.handleNewAccounts)),this.handleChainStatus(!0),console.log("this.chainInstalled:",this.chainInstalled),console.log("this.ethereum:",this.ethereum),console.log("chainClient:",this.getSession("chainClient")),this.ethereum.chainId?(console.log("ethereum chainid",this.ethereum.chainId),_n.handleNewChain(this.ethereum.chainId)):this.web3.eth.getChainId().then((e=>{console.log("web chainid",e),_n.handleNewChain(e)})).catch((e=>{console.log("web3 chainid except:",e)}))}handleNewAccounts(e){if(console.log("handleNewAccounts:",_n,_n.getNetworkVersion(),e),_n.accounts=e,e&&e.length>0){_n.account!=e[0]&&_n.initModules(_n.getNetworkVersion()),_n.account=e[0];const t=localStorage.getItem("myWallets");t&&Object.assign(_n.myWallets,JSON.parse(t)),_n.myWallets[_n.account.toLowerCase()]=(new Date).getTime(),localStorage.setItem("myWallets",JSON.stringify(_n.myWallets)),_n.loadContractHistory()}else _n.account="";for(const t of _n.accountsHandles)t(e)}connectChain(e=""){this.tryCount=0,e||(e=this.getSession("chainClient"))||(e="m"),console.log("connectChain:",e),this.setSession("chainClient",e),"b"==e?this.connectBinance():"m"==e?this.connectMetamask():"w"==e?this.walletConnectInit():"o"==e&&this.connectOnto()}connect(e=""){if(console.log("ChainWeb3 ..."),e||(e=this.getSession("chainClient"))||(e="m"),this.isConnected())return console.log("ChainWeb3 isConnected"),Promise.resolve(this.accounts);if(console.log("ChainWeb3 connect to:",e),this.setSession("chainClient",e),this.tryCount=0,"m"===e){if(this.connectMetamask(),!this.chainInstalled)return console.log("No Provider!"),Promise.reject("No Provider!")}else if("b"===e){if(this.connectBinance(),!this.chainInstalled)return console.log("No Provider!"),Promise.reject("No Provider!")}else if("c"===e){if(this.connectClover(),!this.chainInstalled)return console.log("No Provider!"),Promise.reject("No Provider!")}else{if("w"===e)return Promise.resolve(this.walletConnectInit());if("o"===e&&(this.connectOnto(),!this.chainInstalled))return console.log("No Provider!"),Promise.reject("No Provider!")}return this.chainInstalled?(console.log("connect..."),this.ethereum.request({method:"eth_requestAccounts"}).then((e=>(console.log("connect accounts",e),this.handleNewAccounts(e),e)))):void 0}disconnect(){this.connector&&this.connector.connected&&(console.log("disconnect this.connector"),this.connector.killSession()),this.chainInstalled=!1,this.handleNewAccounts([])}handleEventLog(e,t,n,r){if(!t)return void console.warn("handleEventLog receipt is null ",n,r);let o=dn.parseEventLog(this.web3,e,t,r),i=o.hash,a=n.toLocaleUpperCase()+"_"+r.toLocaleUpperCase(),s=this.chainId+this.getSelectedAddress();const u={hash:i,time:(new Date).getTime(),type:a,data:o.data,address:o.address},l=localStorage.getItem(s);if(l){const e=JSON.parse(l);e.unshift(u),localStorage.setItem(s,JSON.stringify(e))}else{const e=[];e.unshift(u),localStorage.setItem(s,JSON.stringify(e))}}onChainStatus(e){this.chainStatusHandles.push(e)}onAccountsChanged(e){console.log("onAccountsChanged:",this.accountsHandles),this.accountsHandles.push(e)}onChainChanged(e){this.chainHandles.push(e)}on(e,t){this.ethereum.on(e,t)}getAccounts(){return console.log("getAccounts"),this.accounts.length>0?Promise.resolve(this.accounts):this.connector&&this.connector.connected?Promise.resolve(this.connector.accounts):this.chainInstalled?this.ethereum.request({method:"eth_accounts"}):Promise.resolve([])}isChainConnected(){return console.log("isChainConnected"),!(!this.connector||!this.connector.connected)||(window.ethereum?(this.chainInstalled=!0,!0):(this.chainInstalled=!1,!1))}isConnected(){return console.log("isConnected"),!(!this.connector||!this.connector.connected)||!!this.chainInstalled&&this.accounts.length>0}getEtherscanAddress(e,t){return t||(t=this.getNetworkVersion()),e=e||this.accounts[0],fn[t]+"/address/"+e}getEtherscanTx(e,t){return t||(t=this.getNetworkVersion()),fn[t]+"/tx/"+e}awaitTransactionMined(e){let t=this.getWeb3();return new Promise((function(n,r){wn(t,e,n,r)}))}getWeb3(e=!1){return this.web3&&!e||(this.chainId=this.getNetworkVersion(),console.log("new web3:",this.chainId,this),this.web3=new web3(hn[this.chainId]),this.initModules(this.chainId)),this.web3}getSelectedAddress(){return this.accounts.length>0?this.accounts[0]:this.connector&&this.connector.connected&&this.connector.accounts.length>0?this.connector.accounts[0]:this.ethereum?this.ethereum.selectedAddress:(console.log("this.getSelectedAddress is null"),"")}getContract(e,t){if(!e||!t)throw t;return new(this.getWeb3().eth.Contract)(e,t)}getNetworkVersion(){let e=0;return e=this.connector&&this.connector.connected?Number(this.connector.chainId):this.ethereum.chainId?Number(this.ethereum.chainId):this.chainId,e}sendTransaction(e){return this.connector&&this.connector.connected?(console.log("sendTransaction this.connector params:",e),this.connector.sendTransaction(e[0])):(console.log("sendTransaction params:",e),this.ethereum.request({method:"eth_sendTransaction",params:e}))}async executeContract(e,t,n,r,o){console.log("executeContract:",t,n,r),n||(n=0),n=dn.numberToHex(n);let i={from:this.getSelectedAddress(),value:n};if(e){i.to=e._address,i.data=e.methods[t](...r).encodeABI();let n=await this.getGasLimit(i);i.gas=n}[1,3,4,5].includes(Number(this.chainId))&&(i.gasPrice=await this.getGasPrice());let a=await this.sendTransaction([i]),s={chainId:this.getNetworkVersion(),transactionHash:a,inputValues:r};o&&o(s),this.handleCall(a,t,0);let u=await this.awaitTransactionMined(a),l=2;return u.status&&(l=1),o&&o({...s,...u}),this.handleCall(a,t,l),u}getContractMethods(e,t){return new(this.getWeb3().eth.Contract)(e,t).methods}getContractAddr(e){return mn[this.getNetworkVersion()][e]}getZeroSymbol(){return gn.ZeroToken[this.getNetworkVersion()]}getWSymbol(){return gn.WToken[this.getNetworkVersion()]}isZeroAddress(e){return e==this.ZERO_ADDR}async getGasLimit(e){return await this.ethereum.request({method:"eth_estimateGas",params:[e]})}async getGasPrice(){return await this.ethereum.request({method:"eth_gasPrice",params:[]})}async getBlockNumber(){let e=await this.web3.eth.getBlockNumber();return Number(e)}getBlockSpanTime(){return 1==this.chainId?13.5:3}getBlockToTimes(e,t){let n=(new Date).getTime(),r=(Number(t)-Number(e))*this.getBlockSpanTime();return n+parseInt(1e3*r)}async getNowToEndBlockTime(e){let t=await this.getBlockNumber();return this.getBlockToTimes(t,e)}getBlockNumbers(e,t,n){let r=(n-t)/1e3/this.getBlockSpanTime();return Number(e)+parseInt(r)}getBlockNumberCount(e,t){return parseInt((t-e)/1e3/this.getBlockSpanTime())}async sign(e){let t=web3.utils.utf8ToHex(e);return await this.web3.eth.sign(t,this.getSelectedAddress())}async ethSignTypedData(e){let t=this.getSelectedAddress();return new Promise(((n,r)=>{var o=[e,t];this.web3.currentProvider.sendAsync({method:"eth_signTypedData",params:o,owner:t},(function(e,t){e?(console.error("err:",e),r(e)):t.error?(console.error("result.error:",t.error),r(t.error)):n(t.result)}))}))}verifySignature(e,t){return this.web3.eth.accounts.recover(e,t)}handleCall(e,t,n=0){if(!e)return void console.warn("handleCall hash is null ",e,t);let r="contractCall"+this.getSelectedAddress();const o={chainId:this.chainId,hash:e,time:(new Date).getTime(),status:n,funcName:t,data:null};if(localStorage.getItem(r)){let e=-1;this.contractHistory.forEach(((t,n)=>{t.hash!=o.hash||(e=n)})),e>-1&&this.contractHistory.splice(e,1),this.contractHistory.unshift(o),localStorage.setItem(r,JSON.stringify(this.contractHistory))}else this.contractHistory.unshift(o),localStorage.setItem(r,JSON.stringify(this.contractHistory))}loadContractHistory(){let e="contractCall"+this.getSelectedAddress();const t=localStorage.getItem(e);t&&(this.contractHistory=[...JSON.parse(t)])}cleanContractHistory(){let e="contractCall"+this.getSelectedAddress();localStorage.removeItem(e)}getToken(e){return e=(e+="").toLocaleLowerCase(),this.tokens[e]}addToken(e,t,n){let r=this.ethereum;return new Promise(((o,i)=>{r.request({method:"wallet_watchAsset",params:{type:"ERC20",options:{address:e,symbol:t,decimals:n,image:""}}}).then((e=>{if(!e)throw i(),new Error("Something went wrong.");o(),console.log("FOO successfully added to wallet!")})).catch((()=>{i()}))}))}async setupNetwork(e){if(navigator.userAgent.match(/(iPhone|iPod|Android|ios|iOS|iPad|Backerry|WebOS|Symbian|Windows Phone|Phone)/i)){try{let t={type:"EVENT_SWITCH_NETWORK",value:e};return window.ReactNativeWebView.postMessage(JSON.stringify(t)),{code:200,flag:!0}}catch(e){}return{code:-32602,flag:!1}}let t=this.ethereum;if(!t)return console.error("Can't setup the Block network on metamask because window.ethereum is undefined"),{code:401,flag:!1};{if(e)e=parseInt(e,10);else{if(!process.env.VUE_APP_CHAIN_ID)return{code:200,flag:!0};e=parseInt(process.env.VUE_APP_CHAIN_ID,10)}const n=[hn[e]];try{return await t.request({method:"wallet_addEthereumChain",params:[{chainId:`0x${e.toString(16)}`,chainName:yn[e],nativeCurrency:{name:gn.ZeroToken[e],symbol:gn.ZeroToken[e].toLowerCase(),decimals:18},rpcUrls:n,blockExplorerUrls:[fn[e]]}]}),console.log("setupNetwork---\x3e",e),{code:200,flag:!0}}catch(t){return console.error("setupNetwork---\x3e",e,t),{code:t.code,flag:!1}}}}},bn=r((function(e){!function(t){var n,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,o=Math.ceil,i=Math.floor,a="[BigNumber Error] ",s=a+"Number primitive has more than 15 significant digits: ",u=1e14,l=14,c=9007199254740991,p=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],d=1e7,h=1e9;function f(e){var t=0|e;return e>0||e===t?t:t-1}function y(e){for(var t,n,r=1,o=e.length,i=e[0]+"";r<o;){for(t=e[r++]+"",n=l-t.length;n--;t="0"+t);i+=t}for(o=i.length;48===i.charCodeAt(--o););return i.slice(0,o+1||1)}function m(e,t){var n,r,o=e.c,i=t.c,a=e.s,s=t.s,u=e.e,l=t.e;if(!a||!s)return null;if(n=o&&!o[0],r=i&&!i[0],n||r)return n?r?0:-s:a;if(a!=s)return a;if(n=a<0,r=u==l,!o||!i)return r?0:!o^n?1:-1;if(!r)return u>l^n?1:-1;for(s=(u=o.length)<(l=i.length)?u:l,a=0;a<s;a++)if(o[a]!=i[a])return o[a]>i[a]^n?1:-1;return u==l?0:u>l^n?1:-1}function g(e,t,n,r){if(e<t||e>n||e!==i(e))throw Error(a+(r||"Argument")+("number"==typeof e?e<t||e>n?" out of range: ":" not an integer: ":" not a primitive number: ")+String(e))}function _(e){var t=e.c.length-1;return f(e.e/l)==t&&e.c[t]%2!=0}function w(e,t){return(e.length>1?e.charAt(0)+"."+e.slice(1):e)+(t<0?"e":"e+")+t}function v(e,t,n){var r,o;if(t<0){for(o=n+".";++t;o+=n);e=o+e}else if(++t>(r=e.length)){for(o=n,t-=r;--t;o+=n);e+=o}else t<r&&(e=e.slice(0,t)+"."+e.slice(t));return e}(n=function e(t){var n,b,T,x,C,E,A,k,S,P,M=z.prototype={constructor:z,toString:null,valueOf:null},R=new z(1),N=20,O=4,B=-7,I=21,L=-1e7,U=1e7,F=!1,D=1,W=0,H={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},j="0123456789abcdefghijklmnopqrstuvwxyz";function z(e,t){var n,o,a,u,p,d,h,f,y=this;if(!(y instanceof z))return new z(e,t);if(null==t){if(e&&!0===e._isBigNumber)return y.s=e.s,void(!e.c||e.e>U?y.c=y.e=null:e.e<L?y.c=[y.e=0]:(y.e=e.e,y.c=e.c.slice()));if((d="number"==typeof e)&&0*e==0){if(y.s=1/e<0?(e=-e,-1):1,e===~~e){for(u=0,p=e;p>=10;p/=10,u++);return void(u>U?y.c=y.e=null:(y.e=u,y.c=[e]))}f=String(e)}else{if(!r.test(f=String(e)))return T(y,f,d);y.s=45==f.charCodeAt(0)?(f=f.slice(1),-1):1}(u=f.indexOf("."))>-1&&(f=f.replace(".","")),(p=f.search(/e/i))>0?(u<0&&(u=p),u+=+f.slice(p+1),f=f.substring(0,p)):u<0&&(u=f.length)}else{if(g(t,2,j.length,"Base"),10==t)return G(y=new z(e),N+y.e+1,O);if(f=String(e),d="number"==typeof e){if(0*e!=0)return T(y,f,d,t);if(y.s=1/e<0?(f=f.slice(1),-1):1,z.DEBUG&&f.replace(/^0\.0*|\./,"").length>15)throw Error(s+e)}else y.s=45===f.charCodeAt(0)?(f=f.slice(1),-1):1;for(n=j.slice(0,t),u=p=0,h=f.length;p<h;p++)if(n.indexOf(o=f.charAt(p))<0){if("."==o){if(p>u){u=h;continue}}else if(!a&&(f==f.toUpperCase()&&(f=f.toLowerCase())||f==f.toLowerCase()&&(f=f.toUpperCase()))){a=!0,p=-1,u=0;continue}return T(y,String(e),d,t)}d=!1,(u=(f=b(f,t,10,y.s)).indexOf("."))>-1?f=f.replace(".",""):u=f.length}for(p=0;48===f.charCodeAt(p);p++);for(h=f.length;48===f.charCodeAt(--h););if(f=f.slice(p,++h)){if(h-=p,d&&z.DEBUG&&h>15&&(e>c||e!==i(e)))throw Error(s+y.s*e);if((u=u-p-1)>U)y.c=y.e=null;else if(u<L)y.c=[y.e=0];else{if(y.e=u,y.c=[],p=(u+1)%l,u<0&&(p+=l),p<h){for(p&&y.c.push(+f.slice(0,p)),h-=l;p<h;)y.c.push(+f.slice(p,p+=l));p=l-(f=f.slice(p)).length}else p-=h;for(;p--;f+="0");y.c.push(+f)}}else y.c=[y.e=0]}function Y(e,t,n,r){var o,i,a,s,u;if(null==n?n=O:g(n,0,8),!e.c)return e.toString();if(o=e.c[0],a=e.e,null==t)u=y(e.c),u=1==r||2==r&&(a<=B||a>=I)?w(u,a):v(u,a,"0");else if(i=(e=G(new z(e),t,n)).e,s=(u=y(e.c)).length,1==r||2==r&&(t<=i||i<=B)){for(;s<t;u+="0",s++);u=w(u,i)}else if(t-=a,u=v(u,i,"0"),i+1>s){if(--t>0)for(u+=".";t--;u+="0");}else if((t+=i-s)>0)for(i+1==s&&(u+=".");t--;u+="0");return e.s<0&&o?"-"+u:u}function q(e,t){for(var n,r=1,o=new z(e[0]);r<e.length;r++){if(!(n=new z(e[r])).s){o=n;break}t.call(o,n)&&(o=n)}return o}function V(e,t,n){for(var r=1,o=t.length;!t[--o];t.pop());for(o=t[0];o>=10;o/=10,r++);return(n=r+n*l-1)>U?e.c=e.e=null:n<L?e.c=[e.e=0]:(e.e=n,e.c=t),e}function G(e,t,n,r){var a,s,c,d,h,f,y,m=e.c,g=p;if(m){e:{for(a=1,d=m[0];d>=10;d/=10,a++);if((s=t-a)<0)s+=l,c=t,y=(h=m[f=0])/g[a-c-1]%10|0;else if((f=o((s+1)/l))>=m.length){if(!r)break e;for(;m.length<=f;m.push(0));h=y=0,a=1,c=(s%=l)-l+1}else{for(h=d=m[f],a=1;d>=10;d/=10,a++);y=(c=(s%=l)-l+a)<0?0:h/g[a-c-1]%10|0}if(r=r||t<0||null!=m[f+1]||(c<0?h:h%g[a-c-1]),r=n<4?(y||r)&&(0==n||n==(e.s<0?3:2)):y>5||5==y&&(4==n||r||6==n&&(s>0?c>0?h/g[a-c]:0:m[f-1])%10&1||n==(e.s<0?8:7)),t<1||!m[0])return m.length=0,r?(t-=e.e+1,m[0]=g[(l-t%l)%l],e.e=-t||0):m[0]=e.e=0,e;if(0==s?(m.length=f,d=1,f--):(m.length=f+1,d=g[l-s],m[f]=c>0?i(h/g[a-c]%g[c])*d:0),r)for(;;){if(0==f){for(s=1,c=m[0];c>=10;c/=10,s++);for(c=m[0]+=d,d=1;c>=10;c/=10,d++);s!=d&&(e.e++,m[0]==u&&(m[0]=1));break}if(m[f]+=d,m[f]!=u)break;m[f--]=0,d=1}for(s=m.length;0===m[--s];m.pop());}e.e>U?e.c=e.e=null:e.e<L&&(e.c=[e.e=0])}return e}function J(e){var t,n=e.e;return null===n?e.toString():(t=y(e.c),t=n<=B||n>=I?w(t,n):v(t,n,"0"),e.s<0?"-"+t:t)}return z.clone=e,z.ROUND_UP=0,z.ROUND_DOWN=1,z.ROUND_CEIL=2,z.ROUND_FLOOR=3,z.ROUND_HALF_UP=4,z.ROUND_HALF_DOWN=5,z.ROUND_HALF_EVEN=6,z.ROUND_HALF_CEIL=7,z.ROUND_HALF_FLOOR=8,z.EUCLID=9,z.config=z.set=function(e){var t,n;if(null!=e){if("object"!=typeof e)throw Error(a+"Object expected: "+e);if(e.hasOwnProperty(t="DECIMAL_PLACES")&&(g(n=e[t],0,h,t),N=n),e.hasOwnProperty(t="ROUNDING_MODE")&&(g(n=e[t],0,8,t),O=n),e.hasOwnProperty(t="EXPONENTIAL_AT")&&((n=e[t])&&n.pop?(g(n[0],-h,0,t),g(n[1],0,h,t),B=n[0],I=n[1]):(g(n,-h,h,t),B=-(I=n<0?-n:n))),e.hasOwnProperty(t="RANGE"))if((n=e[t])&&n.pop)g(n[0],-h,-1,t),g(n[1],1,h,t),L=n[0],U=n[1];else{if(g(n,-h,h,t),!n)throw Error(a+t+" cannot be zero: "+n);L=-(U=n<0?-n:n)}if(e.hasOwnProperty(t="CRYPTO")){if((n=e[t])!==!!n)throw Error(a+t+" not true or false: "+n);if(n){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw F=!n,Error(a+"crypto unavailable");F=n}else F=n}if(e.hasOwnProperty(t="MODULO_MODE")&&(g(n=e[t],0,9,t),D=n),e.hasOwnProperty(t="POW_PRECISION")&&(g(n=e[t],0,h,t),W=n),e.hasOwnProperty(t="FORMAT")){if("object"!=typeof(n=e[t]))throw Error(a+t+" not an object: "+n);H=n}if(e.hasOwnProperty(t="ALPHABET")){if("string"!=typeof(n=e[t])||/^.?$|[+\-.\s]|(.).*\1/.test(n))throw Error(a+t+" invalid: "+n);j=n}}return{DECIMAL_PLACES:N,ROUNDING_MODE:O,EXPONENTIAL_AT:[B,I],RANGE:[L,U],CRYPTO:F,MODULO_MODE:D,POW_PRECISION:W,FORMAT:H,ALPHABET:j}},z.isBigNumber=function(e){if(!e||!0!==e._isBigNumber)return!1;if(!z.DEBUG)return!0;var t,n,r=e.c,o=e.e,s=e.s;e:if("[object Array]"=={}.toString.call(r)){if((1===s||-1===s)&&o>=-h&&o<=h&&o===i(o)){if(0===r[0]){if(0===o&&1===r.length)return!0;break e}if((t=(o+1)%l)<1&&(t+=l),String(r[0]).length==t){for(t=0;t<r.length;t++)if((n=r[t])<0||n>=u||n!==i(n))break e;if(0!==n)return!0}}}else if(null===r&&null===o&&(null===s||1===s||-1===s))return!0;throw Error(a+"Invalid BigNumber: "+e)},z.maximum=z.max=function(){return q(arguments,M.lt)},z.minimum=z.min=function(){return q(arguments,M.gt)},z.random=(x=9007199254740992,C=Math.random()*x&2097151?function(){return i(Math.random()*x)}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(e){var t,n,r,s,u,c=0,d=[],f=new z(R);if(null==e?e=N:g(e,0,h),s=o(e/l),F)if(crypto.getRandomValues){for(t=crypto.getRandomValues(new Uint32Array(s*=2));c<s;)(u=131072*t[c]+(t[c+1]>>>11))>=9e15?(n=crypto.getRandomValues(new Uint32Array(2)),t[c]=n[0],t[c+1]=n[1]):(d.push(u%1e14),c+=2);c=s/2}else{if(!crypto.randomBytes)throw F=!1,Error(a+"crypto unavailable");for(t=crypto.randomBytes(s*=7);c<s;)(u=281474976710656*(31&t[c])+1099511627776*t[c+1]+4294967296*t[c+2]+16777216*t[c+3]+(t[c+4]<<16)+(t[c+5]<<8)+t[c+6])>=9e15?crypto.randomBytes(7).copy(t,c):(d.push(u%1e14),c+=7);c=s/7}if(!F)for(;c<s;)(u=C())<9e15&&(d[c++]=u%1e14);for(s=d[--c],e%=l,s&&e&&(u=p[l-e],d[c]=i(s/u)*u);0===d[c];d.pop(),c--);if(c<0)d=[r=0];else{for(r=-1;0===d[0];d.splice(0,1),r-=l);for(c=1,u=d[0];u>=10;u/=10,c++);c<l&&(r-=l-c)}return f.e=r,f.c=d,f}),z.sum=function(){for(var e=1,t=arguments,n=new z(t[0]);e<t.length;)n=n.plus(t[e++]);return n},b=function(){var e="0123456789";function t(e,t,n,r){for(var o,i,a=[0],s=0,u=e.length;s<u;){for(i=a.length;i--;a[i]*=t);for(a[0]+=r.indexOf(e.charAt(s++)),o=0;o<a.length;o++)a[o]>n-1&&(null==a[o+1]&&(a[o+1]=0),a[o+1]+=a[o]/n|0,a[o]%=n)}return a.reverse()}return function(r,o,i,a,s){var u,l,c,p,d,h,f,m,g=r.indexOf("."),_=N,w=O;for(g>=0&&(p=W,W=0,r=r.replace(".",""),h=(m=new z(o)).pow(r.length-g),W=p,m.c=t(v(y(h.c),h.e,"0"),10,i,e),m.e=m.c.length),c=p=(f=t(r,o,i,s?(u=j,e):(u=e,j))).length;0==f[--p];f.pop());if(!f[0])return u.charAt(0);if(g<0?--c:(h.c=f,h.e=c,h.s=a,f=(h=n(h,m,_,w,i)).c,d=h.r,c=h.e),g=f[l=c+_+1],p=i/2,d=d||l<0||null!=f[l+1],d=w<4?(null!=g||d)&&(0==w||w==(h.s<0?3:2)):g>p||g==p&&(4==w||d||6==w&&1&f[l-1]||w==(h.s<0?8:7)),l<1||!f[0])r=d?v(u.charAt(1),-_,u.charAt(0)):u.charAt(0);else{if(f.length=l,d)for(--i;++f[--l]>i;)f[l]=0,l||(++c,f=[1].concat(f));for(p=f.length;!f[--p];);for(g=0,r="";g<=p;r+=u.charAt(f[g++]));r=v(r,c,u.charAt(0))}return r}}(),n=function(){function e(e,t,n){var r,o,i,a,s=0,u=e.length,l=t%d,c=t/d|0;for(e=e.slice();u--;)s=((o=l*(i=e[u]%d)+(r=c*i+(a=e[u]/d|0)*l)%d*d+s)/n|0)+(r/d|0)+c*a,e[u]=o%n;return s&&(e=[s].concat(e)),e}function t(e,t,n,r){var o,i;if(n!=r)i=n>r?1:-1;else for(o=i=0;o<n;o++)if(e[o]!=t[o]){i=e[o]>t[o]?1:-1;break}return i}function n(e,t,n,r){for(var o=0;n--;)e[n]-=o,o=e[n]<t[n]?1:0,e[n]=o*r+e[n]-t[n];for(;!e[0]&&e.length>1;e.splice(0,1));}return function(r,o,a,s,c){var p,d,h,y,m,g,_,w,v,b,T,x,C,E,A,k,S,P=r.s==o.s?1:-1,M=r.c,R=o.c;if(!(M&&M[0]&&R&&R[0]))return new z(r.s&&o.s&&(M?!R||M[0]!=R[0]:R)?M&&0==M[0]||!R?0*P:P/0:NaN);for(v=(w=new z(P)).c=[],P=a+(d=r.e-o.e)+1,c||(c=u,d=f(r.e/l)-f(o.e/l),P=P/l|0),h=0;R[h]==(M[h]||0);h++);if(R[h]>(M[h]||0)&&d--,P<0)v.push(1),y=!0;else{for(E=M.length,k=R.length,h=0,P+=2,(m=i(c/(R[0]+1)))>1&&(R=e(R,m,c),M=e(M,m,c),k=R.length,E=M.length),C=k,T=(b=M.slice(0,k)).length;T<k;b[T++]=0);S=R.slice(),S=[0].concat(S),A=R[0],R[1]>=c/2&&A++;do{if(m=0,(p=t(R,b,k,T))<0){if(x=b[0],k!=T&&(x=x*c+(b[1]||0)),(m=i(x/A))>1)for(m>=c&&(m=c-1),_=(g=e(R,m,c)).length,T=b.length;1==t(g,b,_,T);)m--,n(g,k<_?S:R,_,c),_=g.length,p=1;else 0==m&&(p=m=1),_=(g=R.slice()).length;if(_<T&&(g=[0].concat(g)),n(b,g,T,c),T=b.length,-1==p)for(;t(R,b,k,T)<1;)m++,n(b,k<T?S:R,T,c),T=b.length}else 0===p&&(m++,b=[0]);v[h++]=m,b[0]?b[T++]=M[C]||0:(b=[M[C]],T=1)}while((C++<E||null!=b[0])&&P--);y=null!=b[0],v[0]||v.splice(0,1)}if(c==u){for(h=1,P=v[0];P>=10;P/=10,h++);G(w,a+(w.e=h+d*l-1)+1,s,y)}else w.e=d,w.r=+y;return w}}(),E=/^(-?)0([xbo])(?=\w[\w.]*$)/i,A=/^([^.]+)\.$/,k=/^\.([^.]+)$/,S=/^-?(Infinity|NaN)$/,P=/^\s*\+(?=[\w.])|^\s+|\s+$/g,T=function(e,t,n,r){var o,i=n?t:t.replace(P,"");if(S.test(i))e.s=isNaN(i)?null:i<0?-1:1;else{if(!n&&(i=i.replace(E,(function(e,t,n){return o="x"==(n=n.toLowerCase())?16:"b"==n?2:8,r&&r!=o?e:t})),r&&(o=r,i=i.replace(A,"$1").replace(k,"0.$1")),t!=i))return new z(i,o);if(z.DEBUG)throw Error(a+"Not a"+(r?" base "+r:"")+" number: "+t);e.s=null}e.c=e.e=null},M.absoluteValue=M.abs=function(){var e=new z(this);return e.s<0&&(e.s=1),e},M.comparedTo=function(e,t){return m(this,new z(e,t))},M.decimalPlaces=M.dp=function(e,t){var n,r,o,i=this;if(null!=e)return g(e,0,h),null==t?t=O:g(t,0,8),G(new z(i),e+i.e+1,t);if(!(n=i.c))return null;if(r=((o=n.length-1)-f(this.e/l))*l,o=n[o])for(;o%10==0;o/=10,r--);return r<0&&(r=0),r},M.dividedBy=M.div=function(e,t){return n(this,new z(e,t),N,O)},M.dividedToIntegerBy=M.idiv=function(e,t){return n(this,new z(e,t),0,1)},M.exponentiatedBy=M.pow=function(e,t){var n,r,s,u,c,p,d,h,f=this;if((e=new z(e)).c&&!e.isInteger())throw Error(a+"Exponent not an integer: "+J(e));if(null!=t&&(t=new z(t)),c=e.e>14,!f.c||!f.c[0]||1==f.c[0]&&!f.e&&1==f.c.length||!e.c||!e.c[0])return h=new z(Math.pow(+J(f),c?2-_(e):+J(e))),t?h.mod(t):h;if(p=e.s<0,t){if(t.c?!t.c[0]:!t.s)return new z(NaN);(r=!p&&f.isInteger()&&t.isInteger())&&(f=f.mod(t))}else{if(e.e>9&&(f.e>0||f.e<-1||(0==f.e?f.c[0]>1||c&&f.c[1]>=24e7:f.c[0]<8e13||c&&f.c[0]<=9999975e7)))return u=f.s<0&&_(e)?-0:0,f.e>-1&&(u=1/u),new z(p?1/u:u);W&&(u=o(W/l+2))}for(c?(n=new z(.5),p&&(e.s=1),d=_(e)):d=(s=Math.abs(+J(e)))%2,h=new z(R);;){if(d){if(!(h=h.times(f)).c)break;u?h.c.length>u&&(h.c.length=u):r&&(h=h.mod(t))}if(s){if(0===(s=i(s/2)))break;d=s%2}else if(G(e=e.times(n),e.e+1,1),e.e>14)d=_(e);else{if(0===(s=+J(e)))break;d=s%2}f=f.times(f),u?f.c&&f.c.length>u&&(f.c.length=u):r&&(f=f.mod(t))}return r?h:(p&&(h=R.div(h)),t?h.mod(t):u?G(h,W,O,undefined):h)},M.integerValue=function(e){var t=new z(this);return null==e?e=O:g(e,0,8),G(t,t.e+1,e)},M.isEqualTo=M.eq=function(e,t){return 0===m(this,new z(e,t))},M.isFinite=function(){return!!this.c},M.isGreaterThan=M.gt=function(e,t){return m(this,new z(e,t))>0},M.isGreaterThanOrEqualTo=M.gte=function(e,t){return 1===(t=m(this,new z(e,t)))||0===t},M.isInteger=function(){return!!this.c&&f(this.e/l)>this.c.length-2},M.isLessThan=M.lt=function(e,t){return m(this,new z(e,t))<0},M.isLessThanOrEqualTo=M.lte=function(e,t){return-1===(t=m(this,new z(e,t)))||0===t},M.isNaN=function(){return!this.s},M.isNegative=function(){return this.s<0},M.isPositive=function(){return this.s>0},M.isZero=function(){return!!this.c&&0==this.c[0]},M.minus=function(e,t){var n,r,o,i,a=this,s=a.s;if(t=(e=new z(e,t)).s,!s||!t)return new z(NaN);if(s!=t)return e.s=-t,a.plus(e);var c=a.e/l,p=e.e/l,d=a.c,h=e.c;if(!c||!p){if(!d||!h)return d?(e.s=-t,e):new z(h?a:NaN);if(!d[0]||!h[0])return h[0]?(e.s=-t,e):new z(d[0]?a:3==O?-0:0)}if(c=f(c),p=f(p),d=d.slice(),s=c-p){for((i=s<0)?(s=-s,o=d):(p=c,o=h),o.reverse(),t=s;t--;o.push(0));o.reverse()}else for(r=(i=(s=d.length)<(t=h.length))?s:t,s=t=0;t<r;t++)if(d[t]!=h[t]){i=d[t]<h[t];break}if(i&&(o=d,d=h,h=o,e.s=-e.s),(t=(r=h.length)-(n=d.length))>0)for(;t--;d[n++]=0);for(t=u-1;r>s;){if(d[--r]<h[r]){for(n=r;n&&!d[--n];d[n]=t);--d[n],d[r]+=u}d[r]-=h[r]}for(;0==d[0];d.splice(0,1),--p);return d[0]?V(e,d,p):(e.s=3==O?-1:1,e.c=[e.e=0],e)},M.modulo=M.mod=function(e,t){var r,o,i=this;return e=new z(e,t),!i.c||!e.s||e.c&&!e.c[0]?new z(NaN):!e.c||i.c&&!i.c[0]?new z(i):(9==D?(o=e.s,e.s=1,r=n(i,e,0,3),e.s=o,r.s*=o):r=n(i,e,0,D),(e=i.minus(r.times(e))).c[0]||1!=D||(e.s=i.s),e)},M.multipliedBy=M.times=function(e,t){var n,r,o,i,a,s,c,p,h,y,m,g,_,w,v,b=this,T=b.c,x=(e=new z(e,t)).c;if(!(T&&x&&T[0]&&x[0]))return!b.s||!e.s||T&&!T[0]&&!x||x&&!x[0]&&!T?e.c=e.e=e.s=null:(e.s*=b.s,T&&x?(e.c=[0],e.e=0):e.c=e.e=null),e;for(r=f(b.e/l)+f(e.e/l),e.s*=b.s,(c=T.length)<(y=x.length)&&(_=T,T=x,x=_,o=c,c=y,y=o),o=c+y,_=[];o--;_.push(0));for(w=u,v=d,o=y;--o>=0;){for(n=0,m=x[o]%v,g=x[o]/v|0,i=o+(a=c);i>o;)n=((p=m*(p=T[--a]%v)+(s=g*p+(h=T[a]/v|0)*m)%v*v+_[i]+n)/w|0)+(s/v|0)+g*h,_[i--]=p%w;_[i]=n}return n?++r:_.splice(0,1),V(e,_,r)},M.negated=function(){var e=new z(this);return e.s=-e.s||null,e},M.plus=function(e,t){var n,r=this,o=r.s;if(t=(e=new z(e,t)).s,!o||!t)return new z(NaN);if(o!=t)return e.s=-t,r.minus(e);var i=r.e/l,a=e.e/l,s=r.c,c=e.c;if(!i||!a){if(!s||!c)return new z(o/0);if(!s[0]||!c[0])return c[0]?e:new z(s[0]?r:0*o)}if(i=f(i),a=f(a),s=s.slice(),o=i-a){for(o>0?(a=i,n=c):(o=-o,n=s),n.reverse();o--;n.push(0));n.reverse()}for((o=s.length)-(t=c.length)<0&&(n=c,c=s,s=n,t=o),o=0;t;)o=(s[--t]=s[t]+c[t]+o)/u|0,s[t]=u===s[t]?0:s[t]%u;return o&&(s=[o].concat(s),++a),V(e,s,a)},M.precision=M.sd=function(e,t){var n,r,o,i=this;if(null!=e&&e!==!!e)return g(e,1,h),null==t?t=O:g(t,0,8),G(new z(i),e,t);if(!(n=i.c))return null;if(r=(o=n.length-1)*l+1,o=n[o]){for(;o%10==0;o/=10,r--);for(o=n[0];o>=10;o/=10,r++);}return e&&i.e+1>r&&(r=i.e+1),r},M.shiftedBy=function(e){return g(e,-9007199254740991,c),this.times("1e"+e)},M.squareRoot=M.sqrt=function(){var e,t,r,o,i,a=this,s=a.c,u=a.s,l=a.e,c=N+4,p=new z("0.5");if(1!==u||!s||!s[0])return new z(!u||u<0&&(!s||s[0])?NaN:s?a:1/0);if(0==(u=Math.sqrt(+J(a)))||u==1/0?(((t=y(s)).length+l)%2==0&&(t+="0"),u=Math.sqrt(+t),l=f((l+1)/2)-(l<0||l%2),r=new z(t=u==1/0?"5e"+l:(t=u.toExponential()).slice(0,t.indexOf("e")+1)+l)):r=new z(u+""),r.c[0])for((u=(l=r.e)+c)<3&&(u=0);;)if(i=r,r=p.times(i.plus(n(a,i,c,1))),y(i.c).slice(0,u)===(t=y(r.c)).slice(0,u)){if(r.e<l&&--u,"9999"!=(t=t.slice(u-3,u+1))&&(o||"4999"!=t)){+t&&(+t.slice(1)||"5"!=t.charAt(0))||(G(r,r.e+N+2,1),e=!r.times(r).eq(a));break}if(!o&&(G(i,i.e+N+2,0),i.times(i).eq(a))){r=i;break}c+=4,u+=4,o=1}return G(r,r.e+N+1,O,e)},M.toExponential=function(e,t){return null!=e&&(g(e,0,h),e++),Y(this,e,t,1)},M.toFixed=function(e,t){return null!=e&&(g(e,0,h),e=e+this.e+1),Y(this,e,t)},M.toFormat=function(e,t,n){var r,o=this;if(null==n)null!=e&&t&&"object"==typeof t?(n=t,t=null):e&&"object"==typeof e?(n=e,e=t=null):n=H;else if("object"!=typeof n)throw Error(a+"Argument not an object: "+n);if(r=o.toFixed(e,t),o.c){var i,s=r.split("."),u=+n.groupSize,l=+n.secondaryGroupSize,c=n.groupSeparator||"",p=s[0],d=s[1],h=o.s<0,f=h?p.slice(1):p,y=f.length;if(l&&(i=u,u=l,l=i,y-=i),u>0&&y>0){for(i=y%u||u,p=f.substr(0,i);i<y;i+=u)p+=c+f.substr(i,u);l>0&&(p+=c+f.slice(i)),h&&(p="-"+p)}r=d?p+(n.decimalSeparator||"")+((l=+n.fractionGroupSize)?d.replace(new RegExp("\\d{"+l+"}\\B","g"),"$&"+(n.fractionGroupSeparator||"")):d):p}return(n.prefix||"")+r+(n.suffix||"")},M.toFraction=function(e){var t,r,o,i,s,u,c,d,h,f,m,g,_=this,w=_.c;if(null!=e&&(!(c=new z(e)).isInteger()&&(c.c||1!==c.s)||c.lt(R)))throw Error(a+"Argument "+(c.isInteger()?"out of range: ":"not an integer: ")+J(c));if(!w)return new z(_);for(t=new z(R),h=r=new z(R),o=d=new z(R),g=y(w),s=t.e=g.length-_.e-1,t.c[0]=p[(u=s%l)<0?l+u:u],e=!e||c.comparedTo(t)>0?s>0?t:h:c,u=U,U=1/0,c=new z(g),d.c[0]=0;f=n(c,t,0,1),1!=(i=r.plus(f.times(o))).comparedTo(e);)r=o,o=i,h=d.plus(f.times(i=h)),d=i,t=c.minus(f.times(i=t)),c=i;return i=n(e.minus(r),o,0,1),d=d.plus(i.times(h)),r=r.plus(i.times(o)),d.s=h.s=_.s,m=n(h,o,s*=2,O).minus(_).abs().comparedTo(n(d,r,s,O).minus(_).abs())<1?[h,o]:[d,r],U=u,m},M.toNumber=function(){return+J(this)},M.toPrecision=function(e,t){return null!=e&&g(e,1,h),Y(this,e,t,2)},M.toString=function(e){var t,n=this,r=n.s,o=n.e;return null===o?r?(t="Infinity",r<0&&(t="-"+t)):t="NaN":(null==e?t=o<=B||o>=I?w(y(n.c),o):v(y(n.c),o,"0"):10===e?t=v(y((n=G(new z(n),N+o+1,O)).c),n.e,"0"):(g(e,2,j.length,"Base"),t=b(v(y(n.c),o,"0"),10,e,r,!0)),r<0&&n.c[0]&&(t="-"+t)),t},M.valueOf=M.toJSON=function(){return J(this)},M._isBigNumber=!0,null!=t&&z.set(t),z}()).default=n.BigNumber=n,e.exports?e.exports=n:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=n)}(t)}));class Tn{constructor(e,t,n){this.address=n,this.provider=e,this.abi=t,this.subscribes=[],this.subscriptions=[],n&&(this.contract=new this.provider.web3.eth.Contract(t,n))}initAfter(){}}class xn extends Tn{constructor(e,t){super(e,[{inputs:[{internalType:"string",name:"_name",type:"string"},{internalType:"string",name:"_symbol",type:"string"},{internalType:"uint8",name:"_decimals",type:"uint8"},{internalType:"uint256",name:"_totalSupply",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}],t)}async balanceOf(e){e||(e=this.provider.account);let t=await this.info(),n="0";return n=this.provider.isZeroAddress(this.address)?await this.provider.web3.eth.getBalance(e):await this.contract.methods.balanceOf(e).call(),new bn(n).shiftedBy(-1*t.decimals).toFixed()}async tokenBalanceOf(e){e||(e=this.provider.account);let t=await this.info(),n="0";return this.provider.isZeroAddress(this.address)||(n=await this.contract.methods.balanceOf(e).call()),console.log("tokenBalanceOf:",this.address,n),new bn(n).shiftedBy(-1*t.decimals).toFixed()}async totalSupply(){let e=await this.info(),t="0";return this.provider.isZeroAddress(this.address)||(t=await this.contract.methods.totalSupply().call()),new bn(t).shiftedBy(-1*e.decimals).toFixed()}async showBalanceOf(e,t){let n=await this.info();return new bn(await this.balanceOf(t)).shiftedBy(-1*n.decimals).toFixed(e)}async info(){let e=this.provider.tokens[this.address.toLocaleLowerCase()];if(e)return e;let t={};return t=this.provider.isZeroAddress(this.address)?{address:this.address,symbol:this.provider.getZeroSymbol(),totalSupply:0,decimals:18}:{address:this.address,symbol:await this.contract.methods.symbol().call(),totalSupply:await this.contract.methods.totalSupply().call(),decimals:await this.contract.methods.decimals().call()},this.provider.tokens[this.address.toLocaleLowerCase()]=t,t}async approve(e){if(!e)throw"Illegal approve";let t=await this.contract.methods.totalSupply().call();return await this.provider.executeContract(this.contract,"approve",0,[e,t])}async allowance(e,t){if(this.provider.isZeroAddress(this.address))return new bn(10).shiftedBy(30).toFixed();let n=await this.info(),r=await this.contract.methods.allowance(e,t).call();return new bn(r).shiftedBy(-1*n.decimals).toFixed()}async transfer(e,t){let n=await this.info();return t=new bn(t).shiftedBy(1*n.decimals).toFixed(),await this.provider.executeContract(this.contract,"transfer",0,[e,t])}}class Cn extends Tn{constructor(e,t){super(e,[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"value",type:"uint256"}],name:"Bought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"ConfigChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_old",type:"uint256"},{indexed:!0,internalType:"uint256",name:"_new",type:"uint256"}],name:"FeeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"RewardPoolChanged",type:"event"},{anonymous:!1,inputs:[],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"reward",type:"uint256"},{indexed:!1,internalType:"address",name:"feeTo",type:"address"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"Withdrawed",type:"event"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"buy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"buyToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"config",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"dev",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_buyToken",type:"address"},{internalType:"uint256",name:"_unit",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"setFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"}],name:"setRewardPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_unit",type:"uint256"}],name:"setUnit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_config",type:"address"}],name:"setupConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"team",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tickets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"total",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"uploader",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],t),this.pool=null,this.buyTokenInfo=null}async getBuyToken(){if(this.buyTokenInfo)return this.buyTokenInfo;let e=await this.contract.methods.buyToken().call();return this.tokenIns=new xn(this.provider,e),this.buyTokenInfo=await this.tokenIns.info(),this.buyTokenInfo}async getUnit(){let e=await this.contract.methods.unit().call(),t=await this.getBuyToken();return new bn(e).shiftedBy(-1*t.decimals).toFixed()}async getBalance(){let e=await this.contract.methods.getBalance().call(),t=await this.getBuyToken();return new bn(e).shiftedBy(-1*t.decimals).toFixed()}async getTotal(){let e=await this.contract.methods.total().call(),t=await this.getBuyToken();return new bn(e).shiftedBy(-1*t.decimals).toFixed()}async getTicket(e){e||(e=this.provider.account);let t=await this.contract.methods.tickets(e).call(),n=await this.getBuyToken();return new bn(t).shiftedBy(-1*n.decimals).toFixed()}async buy(e,t){t||(t=this.provider.account),console.log("buy:",e,t);let n=await this.getBuyToken();e=new bn(e).shiftedBy(1*n.decimals).toFixed();let r="0";return n.address.toLocaleLowerCase()==this.provider.ZERO_ADDR&&(r=e),await this.provider.executeContract(this.contract,"buy",r,[e,t])}async setUnit(e){}async setFeeRate(e){return await this.provider.executeContract(this.contract,"setFeeRate",0,[e])}}class En extends Tn{constructor(e,t){super(e,[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"uint128",name:"orderId",type:"uint128"},{indexed:!1,internalType:"uint128",name:"winAmount",type:"uint128"},{indexed:!1,internalType:"uint128",name:"shareAmount",type:"uint128"}],name:"Claimed",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"ConfigChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_old",type:"uint256"},{indexed:!0,internalType:"uint256",name:"_new",type:"uint256"}],name:"FeeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint128",name:"value",type:"uint128"}],name:"NewRound",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[],name:"Paused",type:"event"},{anonymous:!1,inputs:[],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"reward",type:"uint256"},{indexed:!1,internalType:"address",name:"feeTo",type:"address"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"Withdrawed",type:"event"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"buyToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_orderId",type:"uint128"}],name:"canClaim",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_orderId",type:"uint128"}],name:"claim",outputs:[{internalType:"uint128",name:"winAmount",type:"uint128"},{internalType:"uint128",name:"shareAmount",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_start",type:"uint128"},{internalType:"uint128",name:"_end",type:"uint128"}],name:"claimAll",outputs:[{internalType:"uint128",name:"winAmount",type:"uint128"},{internalType:"uint128",name:"shareAmount",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_start",type:"uint128"},{internalType:"uint128",name:"_end",type:"uint128"}],name:"claimAllForZero",outputs:[{internalType:"uint128",name:"winAmount",type:"uint128"},{internalType:"uint128",name:"shareAmount",type:"uint128"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"",type:"uint128"}],name:"claimLogs",outputs:[{internalType:"uint128",name:"orderId",type:"uint128"},{internalType:"uint128",name:"claimedWin",type:"uint128"},{internalType:"uint128",name:"claimedShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimedShareTopAmount",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"config",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_rewardSource",type:"address"},{internalType:"address",name:"_shareToken",type:"address"},{internalType:"address",name:"_nextPool",type:"address"},{internalType:"uint128",name:"_nextPoolRate",type:"uint128"},{internalType:"uint64",name:"_epoch",type:"uint64"},{internalType:"uint64",name:"_shareReleaseEpoch",type:"uint64"},{internalType:"bool",name:"_isFromTicket",type:"bool"},{internalType:"bool",name:"_enableRoundOrder",type:"bool"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_round",type:"uint128"}],name:"countRoundOrder",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"countUserOrder",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"dev",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"enableRoundOrder",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"epoch",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRate",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_orderId",type:"uint128"}],name:"getOrderResult",outputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"uint128",name:"orderId",type:"uint128"},{internalType:"uint64",name:"roundNumber",type:"uint64"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"rank",type:"uint64"},{internalType:"uint64",name:"score",type:"uint64"},{internalType:"uint128",name:"ticketAmount",type:"uint128"},{internalType:"uint128",name:"claimedWin",type:"uint128"},{internalType:"uint128",name:"claimedShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimedShareTopAmount",type:"uint128"},{internalType:"uint128",name:"claimWin",type:"uint128"},{internalType:"uint128",name:"claimShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimShareTopAmount",type:"uint128"},{internalType:"uint128",name:"claimShareTopAvaliable",type:"uint128"}],internalType:"struct GamePool.OrderResult",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_strategySn",type:"uint128"},{internalType:"uint128",name:"_rank",type:"uint128"}],name:"getRankTopRate",outputs:[{internalType:"uint128",name:"rate",type:"uint128"},{internalType:"uint128",name:"count",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"getTopEnd",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_sn",type:"uint128"}],name:"getTopEndInStrategy",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_strategySn",type:"uint128"}],name:"getTopRates",outputs:[{components:[{internalType:"uint128",name:"rate",type:"uint128"},{internalType:"uint64",name:"start",type:"uint64"},{internalType:"uint64",name:"end",type:"uint64"}],internalType:"struct GamePool.TopRate[]",name:"",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint64",name:"",type:"uint64"}],name:"historys",outputs:[{internalType:"uint128",name:"ticketTotal",type:"uint128"},{internalType:"uint128",name:"winTotal",type:"uint128"},{internalType:"uint128",name:"rewardTotal",type:"uint128"},{internalType:"uint128",name:"scoreTotal",type:"uint128"},{internalType:"uint128",name:"topScoreTotal",type:"uint128"},{internalType:"uint128",name:"topStrategySn",type:"uint128"},{internalType:"uint128",name:"shareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"shareTopAmount",type:"uint128"},{internalType:"uint64",name:"startTime",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"isFromTicket",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_round",type:"uint128"},{internalType:"uint128",name:"_start",type:"uint128"},{internalType:"uint128",name:"_end",type:"uint128"}],name:"iterateReverseRoundOrders",outputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"uint128",name:"orderId",type:"uint128"},{internalType:"uint64",name:"roundNumber",type:"uint64"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"rank",type:"uint64"},{internalType:"uint64",name:"score",type:"uint64"},{internalType:"uint128",name:"ticketAmount",type:"uint128"},{internalType:"uint128",name:"claimedWin",type:"uint128"},{internalType:"uint128",name:"claimedShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimedShareTopAmount",type:"uint128"},{internalType:"uint128",name:"claimWin",type:"uint128"},{internalType:"uint128",name:"claimShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimShareTopAmount",type:"uint128"},{internalType:"uint128",name:"claimShareTopAvaliable",type:"uint128"}],internalType:"struct GamePool.OrderResult[]",name:"list",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"},{internalType:"uint128",name:"_start",type:"uint128"},{internalType:"uint128",name:"_end",type:"uint128"}],name:"iterateReverseUserOrders",outputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"uint128",name:"orderId",type:"uint128"},{internalType:"uint64",name:"roundNumber",type:"uint64"},{internalType:"uint64",name:"startTime",type:"uint64"},{internalType:"uint64",name:"rank",type:"uint64"},{internalType:"uint64",name:"score",type:"uint64"},{internalType:"uint128",name:"ticketAmount",type:"uint128"},{internalType:"uint128",name:"claimedWin",type:"uint128"},{internalType:"uint128",name:"claimedShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimedShareTopAmount",type:"uint128"},{internalType:"uint128",name:"claimWin",type:"uint128"},{internalType:"uint128",name:"claimShareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"claimShareTopAmount",type:"uint128"},{internalType:"uint128",name:"claimShareTopAvaliable",type:"uint128"}],internalType:"struct GamePool.OrderResult[]",name:"list",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextPoolRate",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"nextPoolTotal",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"orders",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint64",name:"roundNumber",type:"uint64"},{internalType:"uint32",name:"rank",type:"uint32"},{internalType:"uint32",name:"score",type:"uint32"},{internalType:"uint128",name:"ticketAmount",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardSource",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"",type:"uint128"},{internalType:"uint256",name:"",type:"uint256"}],name:"roundOrders",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"_rate",type:"uint128"}],name:"setFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_nextPoolRate",type:"uint128"}],name:"setNexPoolRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128",name:"_shareParticipationAmount",type:"uint128"},{internalType:"uint128",name:"_shareTopAmount",type:"uint128"}],name:"setShareAmount",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint128[]",name:"_levels",type:"uint128[]"},{components:[{internalType:"uint128",name:"rate",type:"uint128"},{internalType:"uint64",name:"start",type:"uint64"},{internalType:"uint64",name:"end",type:"uint64"}],internalType:"struct GamePool.TopRate[]",name:"_values",type:"tuple[]"}],name:"setTopRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_config",type:"address"}],name:"setupConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"shareParticipationAmount",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"shareReleaseEpoch",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"shareToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"shareTopAmount",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[],name:"team",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tickets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint128",name:"",type:"uint128"},{internalType:"uint256",name:"",type:"uint256"}],name:"topStrategies",outputs:[{internalType:"uint128",name:"rate",type:"uint128"},{internalType:"uint64",name:"start",type:"uint64"},{internalType:"uint64",name:"end",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalRound",outputs:[{internalType:"uint64",name:"",type:"uint64"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalTopStrategy",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"uint32",name:"rank",type:"uint32"},{internalType:"uint32",name:"score",type:"uint32"},{internalType:"uint128",name:"ticketAmount",type:"uint128"}],internalType:"struct GamePool.PlayData[]",name:"datas",type:"tuple[]"}],name:"uploadBatch",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{components:[{internalType:"address",name:"user",type:"address"},{internalType:"uint32",name:"rank",type:"uint32"},{internalType:"uint32",name:"score",type:"uint32"},{internalType:"uint128",name:"ticketAmount",type:"uint128"}],internalType:"struct GamePool.PlayData",name:"data",type:"tuple"}],name:"uploadOne",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint64",name:"_startTime",type:"uint64"},{internalType:"uint128",name:"_ticketTotal",type:"uint128"},{internalType:"uint128",name:"_scoreTotal",type:"uint128"},{internalType:"uint128",name:"_topScoreTotal",type:"uint128"}],name:"uploaded",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"uploader",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"userOrders",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint128",name:"",type:"uint128"}],name:"userRoundOrderMap",outputs:[{internalType:"uint128",name:"",type:"uint128"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],t),this.buyTokenInfo=null,this.shareTokenInfo=null,this.info=null}async getBuyToken(){if(this.buyTokenInfo)return this.buyTokenInfo;let e=await this.contract.methods.buyToken().call();return this.tokenIns=new xn(this.provider,e),this.buyTokenInfo=await this.tokenIns.info(),this.buyTokenInfo}async getShareToken(){if(this.shareTokenInfo)return this.shareTokenInfo;let e=await this.contract.methods.shareToken().call();return this.tokenIns=new xn(this.provider,e),this.shareTokenInfo=await this.tokenIns.info(),this.shareTokenInfo}async getTicket(e){let t=await this.contract.methods.tickets(e).call(),n=await this.getBuyToken();return new bn(t).shiftedBy(-1*n.decimals).toFixed()}async getInfo(){return this.info={buyToken:await this.getBuyToken(),shareToken:await this.getShareToken(),nextPool:await this.contract.methods.nextPool().call(),nextPoolRate:await this.contract.methods.nextPoolRate().call(),epoch:await this.contract.methods.epoch().call(),shareReleaseEpoch:await this.contract.methods.shareReleaseEpoch().call(),isFromTicket:await this.contract.methods.isFromTicket().call(),totalRound:await this.contract.methods.totalRound().call(),shareParticipationAmount:await this.contract.methods.shareParticipationAmount().call(),shareTopAmount:await this.contract.methods.shareTopAmount().call()},this.info.shareParticipationAmount=new bn(this.info.shareParticipationAmount).shiftedBy(-1*this.info.shareToken.decimals).toFixed(),this.info.shareTopAmount=new bn(this.info.shareTopAmount).shiftedBy(-1*this.info.shareToken.decimals).toFixed(),this.info}async countUserOrder(e){return e||(e=this.provider.account),console.log("countUserOrder user:",e),await this.contract.methods.countUserOrder(e).call()}async epoch(){return await this.contract.methods.epoch().call()}async totalRound(){return await this.contract.methods.totalRound().call()}async historys(e){return await this.contract.methods.historys(e).call()}async getTopEnd(){return await this.contract.methods.getTopEnd().call()}async getTopRates(e){let t=(await this.contract.methods.getTopRates(e).call()).map(((e,t)=>({level:t,rate:e.rate,start:e.start,end:e.end})));return t.splice(0,1),t}async getLatestTopRates(){let e=await this.contract.methods.totalTopStrategy().call();return await this.getTopRates(e)}async getBalance(){await this.getBuyToken();let e=await this.contract.methods.getBalance().call();return new bn(e).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed()}async getRewardSourceBalance(){let e=await this.contract.methods.rewardSource().call(),t=new En(this.provider,e);return await t.getBalance()}async getFeeRate(){let e=await this.contract.methods.feeRate().call();return"0"!=e?new bn(e).dividedBy(1e4).toFixed():e}async iterateReverseUserOrders(e,t,n){n||(n=this.provider.account);let r=await this.countUserOrder(n);r=Number(r),t>r&&(t=r);let o=[];if(0==r)return o;let i=await this.getFeeRate();await this.getBuyToken(),await this.getShareToken();let a=await this.contract.methods.iterateReverseUserOrders(n,e,t).call();if(a&&a.length>0)for(let e=0;e<a.length;e++){let t={...a[e]};t.buyTokenSymbol=this.buyTokenInfo.symbol,t.shareTokenSymbol=this.shareTokenInfo.symbol,t.ticketAmount=new bn(t.ticketAmount).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed(),t.claimedWin=new bn(t.claimedWin).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed(),t.claimedShareParticipationAmount=new bn(t.claimedShareParticipationAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimedShareTopAmount=new bn(t.claimedShareTopAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimWin=new bn(t.claimWin).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed(),t.claimWinAvaliable=new bn(t.claimWin).minus(t.claimedWin).toFixed(),t.claimShareParticipationAmount=new bn(t.claimShareParticipationAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimShareParticipationAvaliable=new bn(t.claimShareParticipationAmount).minus(t.claimedShareParticipationAmount).toFixed(),t.claimShareTopAmount=new bn(t.claimShareTopAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimShareTopAvaliable=new bn(t.claimShareTopAvaliable).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimShareTopLock=new bn(t.claimShareTopAmount).minus(t.claimedShareTopAmount).minus(t.claimShareTopAvaliable).toFixed(),t.feeRate=i,o.push(t)}return o}async countRoundOrder(e){return await this.contract.methods.countRoundOrder(e).call()}async iterateReverseRoundOrders(e,t,n){let r=await this.countRoundOrder(e);r=Number(r),n>r&&(n=r);let o=[];if(0==r)return o;await this.getBuyToken(),await this.getShareToken();let i=await this.contract.methods.iterateReverseRoundOrders(e,t,n).call();if(i&&i.length>0)for(let e=0;e<i.length;e++){let t={...i[e]};t.buyTokenSymbol=this.buyTokenInfo.symbol,t.shareTokenSymbol=this.shareTokenInfo.symbol,t.ticketAmount=new bn(t.ticketAmount).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed(),t.claimedWin=new bn(t.claimedWin).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed(),t.claimedShareParticipationAmount=new bn(t.claimedShareParticipationAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimedShareTopAmount=new bn(t.claimedShareTopAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimWin=new bn(t.claimWin).shiftedBy(-1*this.buyTokenInfo.decimals).toFixed(),t.claimWinAvaliable=new bn(t.claimWin).minus(t.claimedWin).toFixed(),t.claimShareParticipationAmount=new bn(t.claimShareParticipationAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimShareParticipationAvaliable=new bn(t.claimShareParticipationAmount).minus(t.claimedShareParticipationAmount).toFixed(),t.claimShareTopAmount=new bn(t.claimShareTopAmount).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimShareTopAvaliable=new bn(t.claimShareTopAvaliable).shiftedBy(-1*this.shareTokenInfo.decimals).toFixed(),t.claimShareTopLock=new bn(t.claimShareTopAmount).minus(t.claimedShareTopAmount).minus(t.claimShareTopAvaliable).toFixed(),o.push(t)}return o}async claim(e){return await this.provider.executeContract(this.contract,"claim",0,[e])}async claimAll(e,t){return await this.provider.executeContract(this.contract,"claimAll",0,[e,t])}async setNexPoolRate(e){return await this.provider.executeContract(this.contract,"setNexPoolRate",0,[e])}async setShareAmount(e,t){return await this.getShareToken(),e=new bn(e).shiftedBy(1*this.shareTokenInfo.decimals).toFixed(),t=new bn(t).shiftedBy(1*this.shareTokenInfo.decimals).toFixed(),await this.provider.executeContract(this.contract,"setShareAmount",0,[e,t])}async setTopRate(e){let t=[],n=[];for(let r=0;r<e.length;r++){t.push(e[r].level);let o=[e[r].rate,e[r].start,e[r].end];n.push(o)}return await this.provider.executeContract(this.contract,"setTopRate",0,[t,n])}async uploadOne(e,t,n,r){await this.getBuyToken();let o={user:e,rank:t,score:r,ticketAmount:n=new bn(n).shiftedBy(1*this.buyTokenInfo.decimals).toFixed()};return await this.provider.executeContract(this.contract,"uploadOne",0,[o])}async uploadBatch(e){await this.getBuyToken();for(let t=0;t<e.length;t++)e[t].ticketAmount=new bn(e[t].ticketAmount).shiftedBy(1*this.buyTokenInfo.decimals).toFixed();return await this.provider.executeContract(this.contract,"uploadBatch",0,[e])}async uploaded(e,t,n,r){return await this.getBuyToken(),t=new bn(t).shiftedBy(1*this.buyTokenInfo.decimals).toFixed(),await this.provider.executeContract(this.contract,"uploaded",0,[e,t,n,r])}}let An,kn,Sn;return{ERC20Token:xn,gameTicket:new class extends class{constructor(e,t,n){this.provider=e,this.abi=t,this.address="",this.name=n,e.registerModule(this),this.provider.chainId&&this.initialize(this.provider.chainId)}initialize(e,t=null){this.provider.chainId=e,t&&(this.provider.account=t),this.address=this.provider.getContractAddr(this.name),this.abi&&this.address&&(this.contract=this.provider.getContract(this.abi,this.address))}initAfter(){}}{constructor(e){super(e,[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"value",type:"uint256"}],name:"Bought",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"ConfigChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"uint256",name:"_old",type:"uint256"},{indexed:!0,internalType:"uint256",name:"_new",type:"uint256"}],name:"FeeRateChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_user",type:"address"},{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"OwnerChanged",type:"event"},{anonymous:!1,inputs:[],name:"Paused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"_old",type:"address"},{indexed:!0,internalType:"address",name:"_new",type:"address"}],name:"RewardPoolChanged",type:"event"},{anonymous:!1,inputs:[],name:"Unpaused",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"reward",type:"uint256"},{indexed:!1,internalType:"address",name:"feeTo",type:"address"},{indexed:!1,internalType:"uint256",name:"fee",type:"uint256"}],name:"Withdrawed",type:"event"},{inputs:[],name:"admin",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"},{internalType:"address",name:"_to",type:"address"}],name:"buy",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[],name:"buyToken",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_user",type:"address"}],name:"changeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"config",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"dev",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"feeRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"getBalance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_buyToken",type:"address"},{internalType:"uint256",name:"_unit",type:"uint256"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"paused",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"rewardPool",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_rate",type:"uint256"}],name:"setFeeRate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_pool",type:"address"}],name:"setRewardPool",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_unit",type:"uint256"}],name:"setUnit",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_config",type:"address"}],name:"setupConfig",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"team",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"tickets",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"total",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"unit",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"uploader",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_value",type:"uint256"}],name:"withdraw",outputs:[{internalType:"uint256",name:"reward",type:"uint256"},{internalType:"uint256",name:"fee",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}],"GameTicket"),this.pool=null,this.buyTokenInfo=null}async getBuyToken(){if(this.buyTokenInfo)return this.buyTokenInfo;let e=await this.contract.methods.buyToken().call();return this.tokenIns=new xn(this.provider,e),this.buyTokenInfo=await this.tokenIns.info(),this.buyTokenInfo}async getUnit(){let e=await this.contract.methods.unit().call(),t=await this.getBuyToken();return new bn(e).shiftedBy(-1*t.decimals).toFixed()}async getBalance(){let e=await this.contract.methods.getBalance().call(),t=await this.getBuyToken();return new bn(e).shiftedBy(-1*t.decimals).toFixed()}async getTotal(){let e=await this.contract.methods.total().call(),t=await this.getBuyToken();return new bn(e).shiftedBy(-1*t.decimals).toFixed()}async getTicket(e){e||(e=this.provider.account);let t=await this.contract.methods.tickets(e).call(),n=await this.getBuyToken();return new bn(t).shiftedBy(-1*n.decimals).toFixed()}async buy(e,t){t||(t=this.provider.account),console.log("buy:",e,t);let n=await this.getBuyToken();e=new bn(e).shiftedBy(1*n.decimals).toFixed();let r="0";return n.address.toLocaleLowerCase()==this.provider.ZERO_ADDR&&(r=e),await this.provider.executeContract(this.contract,"buy",r,[e,t])}async setUnit(e){}async setFeeRate(e){return await this.provider.executeContract(this.contract,"setFeeRate",0,[e])}}(vn),newGameTicket:function(e){return!Sn&&(Sn=new Cn(vn,e)),Sn},chainWeb3:vn,GamePool:En,newToken:function(e){return!An&&(An=new xn(vn,e)),An},newGamePool:function(e){return!kn&&(kn=new En(vn,e)),kn}}}));
